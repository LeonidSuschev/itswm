document.addEventListener("DOMContentLoaded",(function(){if(null===document.querySelector(".js-nav-circle"))return;const e=document.querySelector(".js-nav-circle");e.addEventListener("mouseover",(function(e){if(!e.target.closest(".js-circle-text"))return;e.target.closest(".js-circle-text").previousElementSibling.classList.add("is-hovered")})),e.addEventListener("mouseout",(function(e){if(!e.target.closest(".js-circle-text"))return;e.target.closest(".js-circle-text").previousElementSibling.classList.remove("is-hovered")}))}));import"https://unpkg.com/sweet-scroll/sweet-scroll.min.js";document.addEventListener("DOMContentLoaded",()=>{if(null===document.querySelector(".home-page"))return;let e,t,i,s,n,a,r=document.querySelector(".slide-people .swiper-slide__img-container img"),o=document.querySelector(".slide-result .swiper-slide__img-container img");function l(){document.documentElement.style.setProperty("--line-distance",function(r,o){e=r.getBoundingClientRect(),t=o.getBoundingClientRect(),i=e.left+e.width/2,s=e.top+e.height/2,n=t.left+t.width/4,a=t.top+t.height/2;let l=Math.pow(i-n,2)+Math.pow(s-a,2);return Math.sqrt(l)}(r,o)+"px")}l(),window.addEventListener("resize",(function(){console.log("fdfd"),l()}))});const insightsListValuesRu=[{title:"ОАЭ на санкционных радарах?",desc:"Управление по осуществлению санкций Великобритании, OFSI, опубликовало проведенную оценку угроз санкций в финансовом секторе на основе полученных сообщений о нарушениях",id:102,link:"/ru/oae-na-sankcionnyh-radarah.html",image:"../../images/insights/oae-na-sankcionnyh-radarah.jpg"},{title:"Судебная практика по вопросам ценных бумаг",desc:"Начиная с 2022 года и по настоящее время уже сложилась значительная практика по вопросам, связанным с получением доступа к заблокированным активам. В нашем материале рассмотрим наиболее актуальные вопросы судебной практики.",id:101,link:"/ru/sudebnaya-praktika-po-voprosam-cennyh-bumag.html",image:"../../images/insights/sudebnaya-praktika-po-voprosam-cennyh-bumag.jpg"},{title:"Гражданство США — преимущество или недостаток при открытии счетов за пределами США?",desc:"В случае, если клиент своевременно не сообщит о наличии гражданства США, и банк могут ждать неприятности. Почему так и о чем речь?",id:100,link:"/ru/grazhdanstvo-ssha-preimushchestvo-ili-nedostatok-pri-otkrytii-schetov-za-predelami-ssha.html",image:"../../images/insights/grazhdanstvo-ssha-preimushchestvo-ili-nedostatok-pri-otkrytii-schetov-za-predelami-ssha.jpg"},{title:"СИДН: долгожданное налоговое соглашение между Россией и ОАЭ подписано",desc:"В прошлом месяце наконец было подписано Соглашение об избежании Двойного налогообложения между ОАЭ и Россией. Во второй половине февраля этого года в общем доступе появился текст уже подписанного соглашения.",id:99,link:"/ru/sidn-dolgozhdannoe-nalogovoe-soglashenie-mezhdu-rossiej-i-oaeh-podpisano.html",image:"../../images/insights/sidn-dolgozhdannoe-nalogovoe-soglashenie-mezhdu-rossiej-i-oaeh-podpisano.jpg"},{title:"Продление антироссийских санкций США",desc:"В последнее время насыщенная новостная повестка и быстро меняющаяся политическая обстановка создают неопределенность при попытке ответить на ключевой вопрос: будут ли отменены санкции в отношении России или нет.",id:98,link:"/ru/prodlenie-antirossijskih-sankcij-ssha.html",image:"../../images/insights/prodlenie-antirossijskih-sankcij-ssha.jpg"},{title:"CRS простыми словами",desc:"Этот материал может быть полезен в рамках разработки единой стратегии налогового планирования в разных странах с учетом информации, которая раскрывается зарубежными финансовыми организациями (например, банками).",id:97,link:"/ru/crs-prostymi-slovami.html",image:"../../images/insights/crs-prostymi-slovami.jpg"},{title:"Перспективы скорой отмены антироссийских санкций США",desc:"Если вы ограничены в распоряжении вашими активами в связи с санкционными ограничениями, наложенными США, ЕС и другими странами, вы, вероятно, задаетесь вопросом, насколько реально их ослабление в ближайшее время.",id:96,link:"/ru/perspektivy-skoroj-otmeny-antirossijskih-sankcij-ssha.html",image:"../../images/insights/perspektivy-skoroj-otmeny-antirossijskih-sankcij-ssha.jpg"},{title:"Замещение еврооблигаций Российской Федерации: новые налоговые льготы",desc:"Осенью 2024 года в Налоговый кодекс РФ были приняты поправки, касающиеся налоговых последствий в рамках участия в замещении еврооблигаций Российской Федерации.",id:95,link:"/ru/zameshchenie-evroobligacij-rossijskoj-federacii-novye-nalogovye-lgoty.html",image:"../../images/insights/zameshchenie-evroobligacij-rossijskoj-federacii-novye-nalogovye-lgoty.jpg"},{title:"Семейный Фонд в ОАЭ и корпоративное налогообложение: как это работает",desc:"В контексте учреждения семейного фонда в ОАЭ для целей наследственного планирования и защиты активов налоговые эксперты ITSWM часто сталкиваются с вопросами по поводу налогообложения.",id:94,link:"/ru/semejnyj-fond-v-oaeh-i-korporativnoe-nalogooblozhenie-kak-ehto-rabotaet.html",image:"../../images/insights/semejnyj-fond-v-oaeh-i-korporativnoe-nalogooblozhenie-kak-ehto-rabotaet.jpg"},{title:"Завещание DIFC по цифровым активам: уровень PRO",desc:"Осенью появилась опция регистрации завещания по цифровым активам в DIFC. В нашем материале разбираемся с особенностями нового инструмента наследственного планирования",id:93,link:"/ru/zaveshchanie-difc-po-cifrovym-aktivam-uroven-pro.html",image:"../../images/insights/zaveshchanie-difc-po-cifrovym-aktivam-uroven-pro.jpg"},{title:"Правила игры: есть ли границы у санкций?",desc:"Введение санкций может разрушить привычные бизнес и жизненные процессы: закрытие счетов, ограничение доступа к международным рынкам или расторжение контрактов становятся реальными угрозами. Как это может повлиять на ваши активы?",id:92,link:"/ru/est-li-granicy-u-sankcij.html",image:"../../images/insights/est-li-granicy-u-sankcij.jpg"},{title:"ЗПИФ. Под пристальным вниманием регулятора и налоговых органов",desc:"По данным аналитики Банка России, за последние пару лет сильно выросла популярность такого инструмента, как ЗПИФ. Основные факторы, привлекающие инвесторов, включают выгодные налоговые условия, а также отсутствие публичного доступа к информации о владельцах паев.",id:91,link:"/ru/zpif-pod-pristalnym-vnimaniem-regulyatora-i-nalogovyh-organov.html",image:"../../images/insights/associaciya-shvejcarskih-bankirov-biznes-pod-davleniem-geopoliticheskih-riskov.jpg"},{title:"Ассоциация швейцарских банкиров: бизнес под давлением геополитических рисков",desc:"Мы рассмотрели и проанализировали некоторые особенности применения налоговых правил США для лиц, у которых есть грин-карта США, а также имеются связи для целей налогообложения с несколькими странами.",id:90,link:"/ru/associaciya-shvejcarskih-bankirov-biznes-pod-davleniem-geopoliticheskih-riskov.html",image:"../../images/insights/associaciya-shvejcarskih-bankirov-biznes-pod-davleniem-geopoliticheskih-riskov.jpg"},{title:"Грин-карта США = налоговое резидентство США?",desc:"Мы рассмотрели и проанализировали некоторые особенности применения налоговых правил США для лиц, у которых есть грин-карта США, а также имеются связи для целей налогообложения с несколькими странами.",id:89,link:"/ru/grin-karta-ssha-nalogovoe-rezidentstvo-ssha.html",image:"../../images/insights/grin-karta-ssha-nalogovoe-rezidentstvo-ssha.jpg"},{title:"Личный фонд в РФ: upgrade",desc:"Возможность создания личного фонда в РФ появилась еще в 2022 году. С тех пор практика учреждения и ведения деятельности данным фондом стремительно развивалась",id:88,link:"/ru/lichnyj-fond-v-rf-upgrade.html",image:"../../images/insights/lichnyj-fond-v-rf-upgrade.jpg"},{title:"Наследование активов в ОАЭ и вопросы религии",desc:"Учитывая популярность ОАЭ у инвесторов, имеющих такие активы в стране, как банковские счета, бизнес, недвижимость и другие инвестиции, возникает важный вопрос наследственного планирования",id:87,link:"/ru/nasledovanie-aktivov-v-oaeh-i-voprosy-religii.html",image:"../../images/insights/nasledovanie-aktivov-v-oaeh-i-voprosy-religii.jpg"},{title:"Замещение евробондов Министерства финансов: зеленый свет",desc:"Для инвесторов с еврооблигациями Министерства финансов в зарубежных портфелях новость о предстоящем замещении является радостной. Мы проанализировали процедуры замещения данных бумаг",id:86,link:"/ru/zameshchenie-evrobondov-ministerstva-finansov-zelenyj-svet.html",image:"../../images/insights/zameshchenie-evrobondov-ministerstva-finansov-zelenyj-svet.jpg"},{title:"Горшочек не вари — Принятые налоговые изменения, а также новые на подходе",desc:"Предлагаем еще раз пройтись по основным из уже утвержденных изменений в части налогообложения доходов физических лиц, а также осветить некоторые из них детальнее",id:85,link:"/ru/gorshochek-ne-vari-prinyatye-nalogovye-izmeneniya-a-takzhe-novye-na-podhode.html",image:"../../images/insights/gorshochek-ne-vari-prinyatye-nalogovye-izmeneniya-a-takzhe-novye-na-podhode.jpg"},{title:"Single Family Office в ОАЭ — способ сохранить свое семейное благосостояние через поколения",desc:"ОАЭ дает возможность частным инвесторам активно инвестировать именно в семейный бизнес, обеспечивая дополнительную защиту от вмешательства со стороны инвесторов, не являющихся членами семьи, а также со стороны кредиторов и других лиц",id:84,link:"/ru/single-family-office-v-oaeh-sposob-sohranit-svoe-semejnoe-blagosostoyanie-cherez-pokoleniya.html",image:"../../images/insights/single-family-office-v-oaeh-sposob-sohranit-svoe-semejnoe-blagosostoyanie-cherez-pokoleniya.jpg"},{title:"1000 и один фонд в ОАЭ",desc:"Мы рассмотрели некоторые примеры использования фондов в ОАЭ, а также направления, по которым учреждение семейных фондов может быть актуальным для семей с международным присутствием и значительным капиталом",id:83,link:"/ru/tysyacha-i-odin-fond-v-oaeh.html",image:"../../images/insights/tysyacha-i-odin-fond-v-oaeh.jpg"},{title:"Получение средств со счет типа С: что стало понятным",desc:"Мы делимся некоторыми практическими наблюдениями, связанными с опытом наших клиентов по получению выплат по счета типа «С»",id:82,link:"/ru/poluchenie-sredstv-so-schet-tipa-s-chto-stalo-ponyatnym.html",image:"../../images/insights/poluchenie-sredstv-so-schet-tipa-s-chto-stalo-ponyatnym.jpg"},{title:"Новый 14-й санкционный пакет ЕС: санкции за контрсанкционные действия",desc:"24 июня 2024 года ЕС принял 14-й пакет санкций, который ввел ряд новых ограничений для российских компаний и физических лиц. Помимо очередного расширения круга подсанкционных лиц санкции ЕС привнесли и новые элементы.",id:81,link:"/ru/novyj-14-j-sankcionnyj-paket-es-sankcii-za-kontrsankcionnye-dejstviya.html",image:"../../images/insights/novyj-14-j-sankcionnyj-paket-es-sankcii-za-kontrsankcionnye-dejstviya.jpg"},{title:"Продолжение курса на автоматизацию",desc:"Налоговые органы планируют настроить автоматическое получение данных о статусе резидентства РФ. Статус будет определяться на основании информации о пересечении границы, которая будет передаваться в ФНС из системы миграционного учета. Такая задача обозначена в Плане деятельности на 2024–2029 гг., размещенном на официальном сайте ФНС, со сроком реализации к декабрю 2025 г.",id:80,link:"/ru/prodolzhenie-kursa-na-avtomatizaciyu.html",image:"../../images/insights/prodolzhenie-kursa-na-avtomatizaciyu.jpg"},{title:"Зазеркалье налоговых соглашений РФ — что дальше?",desc:"8 августа 2023 Российская Федерация заявила о частичной приостановке соглашений об избежании двойного налогообложения с рядом стран. Ответные реакции зарубежных стран были получены не сразу — официальные позиции некоторых государств по данному вопросу были опубликованы только по истечении 1 года с даты приостановки соглашений со стороны РФ.",id:79,link:"/ru/zazerkale-nalogovyh-soglashenij-rf-chto-dalshe.html",image:"../../images/insights/zazerkale-nalogovyh-soglashenij-rf-chto-dalshe.jpg"},{title:"Суд наказал ИКЕА на 13 миллиардов рублей за нарушение валютного законодательства.",desc:"15 мая 2024 года Арбитражный суд Московского округа вынес знаковое решение по делу ИКЕА, которое может иметь далеко идущие последствия для всего бизнеса в России. ",id:78,link:"/ru/sud-nakazal-ikea-na-13-milliardov-rublej-za-narushenie-valyutnogo-zakonodatelstva.html",image:"../../images/insights/sud-nakazal-ikea-na-13-milliardov-rublej-za-narushenie-valyutnogo-zakonodatelstva.jpg"},{title:"Конфискация активов США и (не)симметричный ответ России",desc:"Шквал новостей по изменению налогового регулированию и ставки НДФЛ в 22% оттеснили не менее серьезную по значимости новость о возможности конфискации российских активов в США. Кажется, что события происходят далеко. Однако ответные меры, принятые в России, затрагивают практически любых лиц, которые имеют связь с США.",id:77,link:"/ru/konfiskaciya-aktivov-ssha-i-ne-simmetrichnyj-otvet-rossii.html",image:"../../images/insights/konfiskaciya-aktivov-ssha-i-ne-simmetrichnyj-otvet-rossii.jpg"},{title:"Новая налоговая глава",desc:"В начале июня в Государственную Думу был внесен законопроект, привносящий с собой существенные изменения в Налоговую систему России. На данный момент документ находится в стадии рассмотрения. Это означает, что к дате официальной публикации, текст проекта может претерпеть некоторые корректировки, но ключевые параметры скорее всего останутся в исходном виде.",id:76,link:"/ru/novaya-nalogovaya-glava.html",image:"../../images/insights/novaya-nalogovaya-glava.jpg"},{title:"Семейные фонды в DIFC: дальше — лучше",desc:"Первые правила деятельности Семейных фондов в ОАЭ появились в Dubai International Financial Centre (DIFC) еще в 2018 году. С тех пор данные правила значительно эволюционировали и видоизменялись в связи с увеличением количества фондов, зарегистрированных в DIFC.",id:75,link:"/ru/semejnye-fondy-v-difc-dalshe-luchshe.html",image:"../../images/insights/semejnye-fondy-v-difc-dalshe-luchshe.jpg"},{title:"Евроклир: приостановка разблокировки активов",desc:"В связи с новостью о приостановке разблокировки активов Евроклир, вызванной включением НКО АО НРД (НРД) в санкционный список США разобрали сложившуюся ситуацию.",id:75,link:"/ru/evroklir-priostanovka-razblokirovki-aktivov.html",image:"../../images/insights/evroklir-priostanovka-razblokirovki-aktivov.jpg"},{title:"УРОКИ НАД ОШИБКАМИ: ОПЫТ СНЯТИЯ САНКЦИЙ ВЕЛИКОБРИТАНИИ",desc:"С начала 2022 года Великобритания ввела санкции против ряда лиц в ответ на события в Украине. Включение в санкционный список имеет серьезные последствия для бизнеса, такие как заморозка активов, запрет на въезд в страну и ограничения на ведение бизнеса.",id:74,link:"/ru/uroki-nad-oshibkami-opyt-snyatiya-sankcij-velikobritanii.html",image:"../../images/insights/uroki-nad-oshibkami-opyt-snyatiya-sankcij-velikobritanii.jpg"},{title:"ОБМЕН ЗАМОРОЖЕННЫХ АКТИВОВ: ОБРАТНАЯ СТОРОНА МЕДАЛИ — ПОЗИЦИЯ ЕВРОКЛИРА И КЛИЕРСТРИМА",desc:"В данной статье рассматриваются меры поддержки, предложенные российским инвесторам в рамках 665, 844 и 198 указов, а также последствия их реализации для иностранных и российских инвесторов, владеющих активами за рубежом.",id:73,link:"/ru/obmen-zamorozhennyh-aktivov-obratnaya-storona-medali-poziciya-evroklira-i-klierstrima.html",image:"../../images/insights/obmen-zamorozhennyh-aktivov-obratnaya-storona-medali-poziciya-evroklira-i-klierstrima.jpg"},{title:"ДОКУМЕНТЫ ДЛЯ ПОЛУЧЕНИЯ ВЫПЛАТ СО СЧЕТА ТИПА «C»: ПАМЯТКА ДЛЯ ИНВЕСТОРА",desc:"Указ Президента РФ № 198 закрепил возможность получения причитающихся российским инвесторам выплат, которые были зачислены на счет типа «С» до 19 марта 2024 года. Счет типа «С» – это отдельный вид счета, который был введен в марте 2022 года для целей зачисления активов по обязательствам резидентов перед определенными лицами иностранных государств.",id:72,link:"/ru/dokumenty-dlya-polucheniya-vyplat-so-scheta-tipa-c-pamyatka-dlya-investora.html",image:"../../images/insights/dokumenty-dlya-polucheniya-vyplat-so-scheta-tipa-c-pamyatka-dlya-investora.jpg"},{title:"СЕМЕЙНЫЙ ФОНД В ОАЭ – ОСОБЕННОСТИ РЕГУЛИРОВАНИЯ",desc:"Семейный фонд (далее – «Фонд») в ОАЭ является уникальным правовым явлением. Дело в том, что регулирование Фондов в ОАЭ основано на англо-саксонских принципах учреждения и функционирования трастов, а также имеет сходства с фондами по правилам континентальной системы права.",id:71,link:"/ru/semejnyj-fond-v-oaeh-osobennosti-regulirovaniya.html",image:"../../images/insights/semejnyj-fond-v-oaeh-osobennosti-regulirovaniya.jpg"},{title:"NON-DOM NO MORE: ОТМЕНА СПЕЦИАЛЬНОГО НАЛОГОВОГО РЕЖИМА ВЕЛИКОБРИТАНИИ",desc:"В начале марта на сайте Правительства Великобритании появилось уведомление о том, что специальный налоговый режим Великобритании для лиц с домицилем за рубежом (non-UK domiciled individuals) прекратит свое существование с 06 апреля 2025 года.",id:70,link:"/ru/non-dom-no-more-otmena-specialnogo-nalogovogo-rezhima-velikobritanii.html",image:"../../images/insights/non-dom-no-more-otmena-specialnogo-nalogovogo-rezhima-velikobritanii.jpg"},{title:"«ДРУГ ТЫ МНЕ ИЛИ НЕТ». СДЕЛКИ ПОСЛЕ ВЕСНЫ 2022 С ТОЧКИ ЗРЕНИЯ ВАЛЮТНОГО ЗАКОНОДАТЕЛЬСТВА – СИТУАЦИИ И ПОСЛЕДСТВИЯ",desc:"С февраля 2022 в обиход российских предпринимателей вошло определение «дружественные» и «недружественные» лица. Страна гражданства физического лица и место регистрации компании стали критичными для возможности осуществления сделок с российскими лицами. Именно в этот период - 2022 и 2023 годы, адаптируясь к сложившейся ситуации, бизнес стал обновлять инфраструктуру платежей и операций, осуществлять реструктуризацию структур владения. ",id:69,link:"/ru/drug-ty-mne-ili-net-sdelki-posle-vesny-2022-s-tochki-zreniya-valyutnogo-zakonodatelstva-situacii-i-posledstviya.html",image:"../../images/insights/drug-ty-mne-ili-net-sdelki-posle-vesny-2022-s-tochki-zreniya-valyutnogo-zakonodatelstva-situacii-i-posledstviya.jpg"},{title:"ЗАМОРОЖЕННЫЕ АКТИВЫ В ЕВРОКЛИР ИЛИ КЛИЕРСТРИМ – А ЕСТЬ ЛИ РАЗНИЦА В ПРОЦЕССЕ РАЗМОРОЗКИ?",desc:"В последние время словарь российского инвестора пополнился новыми действующими лицами и понятиями. Так, стало понятно, что на возможность разблокировки иностранных активов, заблокированных на счетах НКО АО НРД, влияет место хранения ценных бумаг - Евроклир или Клиерстрим.",id:68,link:"/ru/zamorozhennye-aktivy-v-evroklir-ili-klierstrim-a-est-li-raznica-v-processe-razmorozki.html",image:"../../images/insights/zamorozhennye-aktivy-v-evroklir-ili-klierstrim-a-est-li-raznica-v-processe-razmorozki.jpg"},{title:"МОЖНО ЛИ РОССИЙСКОМУ ИНВЕСТОРУ УЧАСТВОВАТЬ В ИНОСТРАННЫХ ФОНДАХ?",desc:"В рамках быстро меняющегося законодательства и серьезных ограничений валютного законодательства можно легко допустить его нарушение. Сегодня разрешено покупать и продавать ценные бумаги, а завтра уже нужно проверить юрисдикцию контрагента – не входит ли страна его учреждения в список недружественных стран. В некоторых случаях и это не сможет помочь – запрет на ряд инвестиций является абсолютным.",id:67,link:"/ru/mozhno-li-rossijskomu-investoru-uchastvovat-v-inostrannyh-fondah.html",image:"../../images/insights/mozhno-li-rossijskomu-investoru-uchastvovat-v-inostrannyh-fondah.jpg"},{title:"ОСОБЕННОСТИ ПОДГОТОВКИ ДОКУМЕНТОВ ДЛЯ ПОЛУЧЕНИЯ ВЫПЛАТ ПО ЕВРООБЛИГАЦИЯМ РФ В РУБЛЯХ",desc:"До 2022 года инвесторы из РФ с портфелями за рубежом нередко инвестировали в облигации, выпущенные Министерством финансов РФ, далее – «ОФЗ». После февраля 2022 года стало невозможным получать выплаты по ОФЗ на зарубежные счета инвесторов в связи с санкционными ограничениями со стороны недружественных государств. Однако появилась возможность получить данные выплаты в РФ, подав документы в НРД. ",id:66,link:"/ru/osobennosti-podgotovki-dokumentov-dlya-polucheniya-vyplat-po-evroobligaciyam-rf-v-rublyah.html",image:"../../images/insights/osobennosti-podgotovki-dokumentov-dlya-polucheniya-vyplat-po-evroobligaciyam-rf-v-rublyah.jpg"},{title:"СТАТУС НАЛОГОВОГО РЕЗИДЕНТА ИТАЛИИ В 2024 ГОДУ",desc:"В условиях меняющегося международного контекста у граждан РФ, которые переехали за рубеж, возникла необходимость ознакомления с налоговыми правилами по месту переезда. Вопреки тому, что налоговое законодательство зарубежных стран может существенно отличаться от правил РФ, некоторые основные понятия и практика их применения во многом схожи.",id:65,link:"/ru/status-nalogovogo-rezidenta-italii-v-2024-godu.html",image:"../../images/insights/status-nalogovogo-rezidenta-italii-v-2024-godu.jpg"},{title:"НОВЫЙ КЕЙС ПО ВОПРОСАМ ВАЛЮТНОГО РЕГУЛИРОВАНИЯ: ЧЕГО ЖДАТЬ ДАЛЬШЕ",desc:"Практика толкования и применения налоговыми органами РФ норм валютного регулирования обычно вызывает наибольшие вопросы со стороны физических и юридических лиц, валютных резидентов РФ. Это связано с тем, что нормы валютного законодательства оставляют широкое поле для трактовок, что приводит к тому, что большинство лиц выбирают подход «все, что прямо не разрешено, является запрещенным».",id:64,link:"/ru/novyj-kejs-po-voprosam-valyutnogo-regulirovaniya-chego-zhdat-dalshe.html",image:"../../images/insights/novyj-kejs-po-voprosam-valyutnogo-regulirovaniya-chego-zhdat-dalshe.jpg"},{title:"КОРПОРАТИВНЫЙ ПРОТЕКТОР: ДЕЛА СЕМЕЙНЫЕ",desc:"Не редки ситуации, когда семьи со значительным благосостоянием выбирают учреждение иностранной структуры для целей наследственного планирования, эффективного управления активами и защиты от возможных притязаний третьих лиц. Такой структурой может стать траст в одной из островных юрисдикций (например, Гернси, Джерси или Мэн). ",id:63,link:"/ru/korporativnyj-protektor-dela-semejnye.html",image:"../../images/insights/korporativnyj-protektor-dela-semejnye.jpg"},{title:"НОВЫЙ НАЛОГОВЫЙ РЕЖИМ ПОРТУГАЛИИ: АКТУАЛЬНЫЕ ВОПРОСЫ ПРИМЕНЕНИЯ",desc:"В нашем Дайджесте от октября 2023 года мы рассказывали об особенностях применения нового налогового режима Португалии – Inpatriate regime. На данный момент режим является единственно оставшейся альтернативой общего режима налогообложения в Португалии, в рамках которого доходы налогового резидента Португалии облагаются по ставкам до 48% (в некоторых случаях – до 53%).",id:62,link:"/ru/novyj-nalogovyj-rezhim-portugalii-aktualnoe-voprosy-primeneniya.html",image:"../../images/insights/novyj-nalogovyj-rezhim-portugalii-aktualnoe-voprosy-primeneniya.jpg"},{title:"ОЧЕРЕДНОЕ УЖЕСТОЧЕНИЕ ТРЕБОВАНИЙ БАНКОВ ПРИ РАБОТЕ С КЛИЕНТАМИ ИЗ РФ",desc:"22 декабря 2023 в Исполнительный Указ 14024 Президента США были внесены изменения. Всего одна небольшая по объему поправка в «санкционный» указ Президента США - и практика работы банков по всему миру в очередной раз изменилась. Насколько эти события связаны между собою?",id:61,link:"/ru/ocherednoe-uzhestochenie-trebovanij-bankov-pri-rabote-s-russkimi-klientami-novyj-vitok-sankcij-ssha-i-ego-otzvuki-po-vsemu-miru.html",image:"../../images/insights/ocherednoe-uzhestochenie-trebovanij-bankov-pri-rabote-s-russkimi-klientami-novyj-vitok-sankcij-ssha-i-ego-otzvuki-po-vsemu-miru.jpg"},{title:"ИМЕЕТ ЛИ СМЫСЛ РОССИЙСКОМУ ИНВЕСТОРУ СУДИТЬСЯ ПРОТИВ ЕВРОКЛИРА И ИНЫХ ИНОСТРАННЫХ БАНКОВ В РОССИЙСКИХ СУДАХ?",desc:"До недавнего времени в суды РФ поступали десятки исков в неделю от инвесторов, окрыленных успехом Банка Санкт-Петербурга против Евроклира. В данном прецедентном деле российский суд признал, что заблокированные Евроклиром средства можно получить из его же средств, находящихся в России.",id:60,link:"/ru/imeet-li-smysl-rossijskomu-investoru-suditsya-protiv-evroklira-i-inyh-inostrannyh-bankov-v-rossijskih-sudah-slozhnosti-ispolneniya-reshenij.html",image:"../../images/insights/imeet-li-smysl-rossijskomu-investoru-suditsya-protiv-evroklira-i-inyh-inostrannyh-bankov-v-rossijskih-sudah-slozhnosti-ispolneniya-reshenij.jpg"},{title:"ЦИФРОВЫЕ АКТИВЫ",desc:"На прошлой неделе была поставлена похоже окончательная точка в судебном иске властей США к крупнейшей мировой криптовалютной бирже Binance. В чем суть претензий США к Binance?",id:59,link:"/ru/kriptoaktivy.html",image:"../../images/insights/crypto.jpg"},{title:"КОМПАНИИ СВОБОДНЫХ ЗОН ОАЭ – НОВОВВЕДЕНИЯ ПО НАЛОГАМ",desc:"Правила налогообложения компаний на материковой части ОАЭ и в свободных зонах складывались на протяжении всего 2023 года. Налогоплательщики уже успели привыкнуть к порядку определения налоговой нагрузки на уровне компании, об этом мы писали в одном из прошлых выпусков нашего Дайджеста.",id:58,link:"/ru/kompanii-svobodnyh-zon-oaeh-novovvedeniya-po-nalogam.html",image:"../../images/insights/kompanii-svobodnyh-zon-oaeh-novovvedeniya-po-nalogam.jpg"},{title:"ВНЖ ВЕНГРИИ – ПЕРЕМЕНЫ НЕ ЗА ГОРАМИ",desc:"Возможность получения ВНЖ Венгрии на основании инвестиций в недвижимость является одной из немногих оставшихся опций по получению ВНЖ ЕС для граждан РФ. Действующая программа Венгрии обладает значительными преимуществами по сравнению с другими программами.",id:57,link:"/ru/vnzh-vengrii-peremeny-ne-za-gorami.html",image:"../../images/insights/vnzh-vengrii-peremeny-ne-za-gorami.jpg"},{title:"НАЛОГОВЫЕ ПРАВИЛА ИЗРАИЛЯ – ВОЗМОЖНОСТИ ДЛЯ РЕПАТРИАНТОВ",desc:"Израиль стал одним из центров притяжения физических лиц из РФ. Приятный климат и широкие возможности ведения бизнеса привели к тому, что страна стала конкурентом Кипра по вопросам привлечения репатриантов с российскими корнями.",id:56,link:"/ru/nalogovye-pravila-izrailya-vozmozhnosti-dlya-repatriantov.html",image:"../../images/insights/nalogovye-pravila-izrailya-vozmozhnosti-dlya-repatriantov.jpg"},{title:"NHR В ПОРТУГАЛИИ – НАЧАЛО КОНЦА?",desc:"В начале октября в телевизионном интервью премьер-министр Португалии объявил о твердом намерении прекратить действие режима налогового резидента Португалии с постоянным местом жительства за рубежом («NHR») в 2024 году. Предположительно, для физических лиц, которые уже подали / планируют подать документы на применение режима в ближайшее время, будет предусмотрен переходный период, в рамках которого применение режима будет возможно до конца 2023 года.",id:55,link:"/ru/nhr-v-portugalii-nachalo-konca.html",image:"../../images/insights/nhr-v-portugalii-nachalo-konca.jpg"},{title:"НАЛОГОВЫЕ ПОСЛАБЛЕНИЯ ДЛЯ ПЕРЕВОДА АКТИВОВ",desc:"В 2022 были введены значительные льготы, призванные позволить российскому бизнесу вернуть активы в РФ без уплаты налогов. В 2023 также появился ряд таких льгот, которые пополнили Налоговый кодекс только 31 июля 2023. К счастью, они имеют ретроспективный эффект и применяются, начиная с 01 января 2023.",id:54,link:"/ru/nalogovye-poslableniya-dlya-perevoda-aktivov.html",image:"../../images/insights/nalogovye-poslableniya-dlya-perevoda-aktivov.jpg"},{title:"ВАЛЮТНЫЕ ОГРАНИЧЕНИЯ",desc:"В феврале 2022 в жизнь российского инвестора резко вошли существенные валютные ограничения. В начале 2023 бизнес постепенно приспособился к ним, было сделано достаточно много послаблений в этой сфере. Представлялось, что пик ограничений прошел, обязанность продажи валютной выручки была фактически отменена.",id:54,link:"/ru/valyutnye-ogranicheniya.html",image:"../../images/insights/valyutnye-ogranicheniya.jpg"},{title:"ЗАБЛОКИРОВАННЫЕ РОССИЙСКИЕ ЦЕННЫЕ БУМАГИ НА ИНОСТРАННЫХ СЧЕТАХ",desc:"Обратной стороной блокировки иностранных ценных бумаг на счетах в России стала блокировка ценных бумаг российских компаний на иностранных счетах. Часть компании приостановили выплаты по ценным бумагам за рубеж, часть продолжает выплаты, но они блокируются на уровне промежуточных банков. В результате лишь незначительная часть средств поступает на иностранные счета их владельцев.",id:53,link:"/ru/zablokirovannye-rossijskie-cennye-bumagi-na-inostrannyh-schetah.html",image:"../../images/insights/zablokirovannye-rossijskie-cennye-bumagi-na-inostrannyh-schetah.jpg"},{title:"РАЗБЛОКИРОВКА АКТИВОВ В БЕЛЬГИИ",desc:"Активно продолжается процесс разблокировки иностранных ценных бумаг, заблокированных в России на счетах Euroclear. После некоторого затишья в январе-февраля 2023, когда рынок ждал результаты рассмотрения первых заявок Министерством финансов Бельгии, сейчас даже робкие инвесторы стали активно изучать возможность подачи заявлений.",id:52,link:"/ru/razblokirovka-aktivov-v-belgii.html",image:"../../images/insights/razblokirovka-aktivov-v-belgii.jpg"},{title:"ВНЖ ЕС",desc:"В наших материалах мы уже рассказывали об имеющихся на данный момент возможностях по получению ВНЖ в ЕС. Однако ситуация меняется стремительно. Программа «золотой» визы Италии уже более недоступна для граждан РФ. На рынке уже есть информация о том, что Испания находится в процессе подготовки аналогичного решения. Подача документов на ПМЖ Словакии фактически приостановлено.",id:51,link:"/ru/vnzh-es.html",image:"../../images/insights/vnzh-es.jpg"},{title:"Приостановка СИДН",desc:"08 августа 2023 был опубликован Указ Президента РФ № 585 «О приостановлении РФ действия отдельных положений международных договоров РФ по вопросам налогообложения».",id:50,link:"/ru/priostanovka-sidn.html",image:"../../images/insights/priostanovka-sidn.jpg"},{title:"Гражданство Турции – неочевидные налоговые последствия",desc:"Программа гражданства Турции приобрела значительную популярность среди граждан РФ. При этом на практике часто не учитывается тот факт, что наличие гражданства Турции может повлиять на порядок налогообложения доходов лица в Турции.",id:49,link:"/ru/grazhdanstvo-turcii-neochevidnye-nalogovye-posledstviya.html",image:"../../images/insights/grazhdanstvo-turcii-neochevidnye-nalogovye-posledstviya.jpg"},{title:"Налоговые соглашения РФ – жребий брошен?",desc:"Учитывая последние новости о возможной приостановке всех соглашений об избежании двойного налогообложения с недружественными странами (в части или полностью), а также денонсацию некоторых соглашений зарубежными странами, важно заранее спрогнозировать налоговые последствия в отсутствие таких соглашений.",id:48,link:"/ru/nalogovye-soglasheniya-rf-zhrebij-broshen.html",image:"../../images/insights/nalogovye-soglasheniya-rf-zhrebij-broshen.jpg"},{title:"Новое в законодательстве о компаниях Британских Виргинских Островов – новые риски в отношении сохранности компаний",desc:"В нашей практике мы видим, что иногда оплата услуг регистрационных агентов и провайдеров в отношении компаний БВО осуществлялась с задержками и по остаточному принципу.",id:47,link:"/ru/novoe-v-zakonodatelstve-o-kompaniyah-britanskih-virginskih.html",image:"../../images/insights/novoe-v-zakonodatelstve-o-kompaniyah-britanskih-virginskih.jpg"},{title:"Активы российских инвесторов, заблокированные на счетах типа «С»",desc:"В статье описываются ситуации, когда выплаты по ценным бумагам могут быть произведены на счет типа «С» и перспективы такого счета.",id:46,link:"/ru/aktivy-rossijskih-investorov-zablokirovannye-na-schetah-tipa-s.html",image:"../../images/insights/aktivy-rossijskih-investorov-zablokirovannye-na-schetah-tipa-s.jpg"},{title:"Личный фонд в России – новая альтернатива международным трастам и семейным фондам?",desc:"Уже чуть больше года в России предусмотрена возможность создания личных фондов. Что это за инструмент и может ли он заменить привычные для международного бизнеса иностранные трасты и семейные фонды? Попробуем разобраться.",id:45,link:"/ru/lichnyj-fond-v-rossii-novaya-alternativa-mezhdunarodnym-trastam-i-semejnym-fondam.html",image:"../../images/insights/lichnyj-fond-v-rossii-novaya-alternativa-mezhdunarodnym-trastam-i-semejnym-fondam.jpg"},{title:"Первые результаты по разблокировке активов в Евроклир и, возможно, новый шанс...",desc:"В настоящей статье мы анализируем практику отказов Министерства финансов Бельгии в разблокировке активов и рассматриваются возможные меры их обжалования.",id:44,link:"/ru/pervye-rezultaty-po-razblokirovke-aktivov-v-evroklir-i-vozmozhno-novyj-shans.html",image:"../../images/insights/pervye-rezultaty-po-razblokirovke-aktivov-v-evroklir-i-vozmozhno-novyj-shans.jpg"},{title:"Окно в Европу: Программы ВНЖ / ПМЖ для граждан РФ",desc:"Текущая международная ситуация еще раз показала важность адаптации к новым реалиям. Если планируется релокация / периодическое проживание в ЕС или сохранение банковских счетов и активов в ЕС и Швейцарии, особенно актуально получение временного или постоянного вида на жительство в одном из государств ЕС.",id:43,link:"/ru/okno-v-evropu-programmy-vnzh-pmzh-dlya-grazhdan-rf.html",image:"../../images/insights/okno-v-evropu-programmy-vnzh-pmzh-dlya-grazhdan-rf.jpg"},{title:"Налогообложение компаний в свободных зонах ОАЭ",desc:"В июне 2023 года вышли долгожданные разъяснения по вопросам применения специального налогового режима для компаний свободных зон ОАЭ.",id:42,link:"/ru/nalogooblozhenie-kompanij-v-svobodnyh-zonah-oaeh.html",image:"../../images/insights/nalogooblozhenie-kompanij-v-svobodnyh-zonah-oaeh.jpg"},{title:"Отказ иностранной компании от сотрудничества – план действий",desc:"В последнее время к нам все чаще обращаются клиенты с просьбой найти решение в ситуации, когда контролируемые ими иностранные компании (КИК) выходят из-под контроля.",id:41,link:"/ru/otkaz-inostrannoj-kompanii-ot-sotrudnichestva-plan-dejstvij.html",image:"../../images/insights/otkaz-inostrannoj-kompanii-ot-sotrudnichestva-plan-dejstvij.jpg"},{title:"Корпоративное налогообложение в ОАЭ: становление",desc:"После принятия Закона № 47 «О налогообложении компаний и бизнеса» налоговые правила ОАЭ формируются со стремительной силой. Разъяснения уполномоченных органов выпускаются ежемесячно, а иногда даже еженедельно.",id:40,link:"/ru/korporativnoe-nalogooblozhenie-v-oaeh-stanovlenie.html",image:"../../images/insights/korporativnoe-nalogooblozhenie-v-oaeh-stanovlenie.jpg"},{title:"Налоговое резидентство Испании: при чем тут Бекхэм",desc:"Релокация в ЕС часто влечет получение статуса налогового резидента ЕС. В некоторых случаях «новоиспеченные» налоговые резиденты, в том числе и граждане РФ, могут воспользоваться специальными налоговыми режимами, которые позволяют не облагать налогом некоторые виды зарубежных доходов.",id:39,link:"/ru/nalogovoe-rezidentstvo-ispanii-pri-chem-tut-bekkhehm.html",image:"../../images/insights/nalogovoe-rezidentstvo-ispanii-pri-chem-tut-bekkhehm.jpg"},{title:"Новый запрет на операции с ценными бумагами по иностранным счетам",desc:"Последний год принес значительные изменения в сфере валютного законодательства. Указы Президента, ограничивающие сделки и операции с недружественными лицами в отношении ценных бумаг и недвижимости, а также устанавливающие лимиты на вывод валюты за рубеж, постоянно обновлялись и комментировались Банком России.",id:38,link:"/ru/novyj_zapret_na_rasporyazheniya_cennymi_bumagami_po_inostrannym.html",image:"../../images/insights/novyj_zapret_na_rasporyazheniya_cennymi_bumagami_po_inostrannym.jpg"},{title:"В какой стране составить завещание - правила и нюансы",desc:"Исторически основным инструментом наследственного планирования являлись трасты и фонды. В последнее время в силу ряда различного рода причин бизнесмены все чаще стали интересоваться нюансами составления завещаний и последствиями его отсутствия.",id:37,link:"/ru/v-kakoj-strane-sostavit-zaveshchanie-pravila-i-nyuansy.html",image:"../../images/insights/v-kakoj-strane-sostavit-zaveshchanie-pravila-i-nyuansy.jpg"},{title:"Банки Кипра и ОАЭ – текущая ситуация и прогнозы",desc:"Текущий месяц принес важные изменения для граждан РФ и лиц, постоянно проживающих в РФ, у которых есть счета в банках Кипра и ОАЭ.",id:36,link:"/ru/banki-kipra-i-oaeh-tekushchaya-situaciya-i-prognozy.html",image:"../../images/insights/banki-kipra-i-oaeh-tekushchaya-situaciya-i-prognozy.jpg"},{title:"ITSWM в числе лидеров рейтинга ИД «Коммерсантъ»",desc:"5 апреля 2023 года издательский дом «Коммерсантъ» опубликовал результаты исследования лучших юридических практик. ITSWM получил признание ведущего юридического рейтинга по трем номинациям.",id:35,link:"/ru/itswm-v-chisle-liderov-rejtinga-id-kommersant.html",image:"../../images/insights/itswm-v-chisle-liderov-rejtinga-id-kommersant.jpg"},{title:"Миграционное и налоговое резидентство Португалии: инсайты",desc:"16 февраля 2023 года премьер-министр Португалии объявил о закрытии программы по получению ВНЖ через инвестиции в страну («золотая» виза). Дату смело можно назвать исторической – закрытие данной программы является показательным с точки зрения трендов развития программ инвестиционной миграции в Европе.",id:34,link:"/ru/migracionnoe-i-nalogovoe-rezidentstvo-portugalii-insajty.html",image:"../../images/insights/migracionnoe-i-nalogovoe-rezidentstvo-portugalii-insajty.jpg"},{title:"Прием заявок в Бельгию до 07 января 2023 – «успеть нельзя сдаваться»?",desc:"Среди юристов существует точка зрения, согласно которой заявления на выдачу лицензии в отношении разблокировки активов, находящихся на счетах АК НКО НРД (НРД), возможно было подать исключительно до 7 января 2023 г. С учетом последующих разъяснений мы полагаем, что заявления о разблокировки активов могут быть поданы вне зависимости от прошедшего дедлайна.",id:33,link:"/ru/priem-zayavok-v-belgiyu-do-07-yanvarya-2023-uspet-nelzya-sdavatsya.html",image:"../../images/insights/priem-zayavok-v-belgiyu-do-07-yanvarya-2023-uspet-nelzya-sdavatsya.jpeg"},{title:"Дарение между близкими родственниками – разъяснение Банка России для ITSWM",desc:"Как показывает практика, одним из наиболее актуальных и до сих пор неясных вопросов дарения валютных ценностей между супругами / близкими родственниками – валютными резидентами РФ. По данному вопросу сформировались две позиции.",id:32,link:"/ru/darenie-mezhdu-blizkimi-rodstvennikami-razyasnenie-banka-rossii-dlya-itswm.html",image:"../../images/insights/darenie-mezhdu-blizkimi-rodstvennikami-razyasnenie-banka-rossii-dlya-itswm.jpeg"},{title:"Усложнение регулирования по сделкам с российскими ценными бумагами – хороший знак?",desc:"В последнее время на рынке активно предлагалась идея приобретения за рубежом ценных бумаг российских компаний с последующей продажей их в России.",id:31,link:"/ru/uslozhnenie-regulirovaniya-po-sdelkam-s-rossijskimi-cennymi-bumagami-horoshij-znak.html",image:"../../images/insights/uslozhnenie-regulirovaniya-po-sdelkam-s-rossijskimi-cennymi-bumagami-horoshij-znak.jpeg"},{title:"Налоговое резидентство ОАЭ – terra incognita no more",desc:"22 февраля 2023 года Министерство финансов ОАЭ выпустило Постановление № 27, далее – «Постановление», в рамках которого были детализированы критерии признания физического лица в качестве налогового резидента ОАЭ.",id:30,link:"/ru/nalogovoe-rezidentstvo-oaeh-terra-incognita-no-more.html",image:"../../images/insights/nalogovoe-rezidentstvo-oaeh-terra-incognita-no-more.jpeg"},{title:"Наследование активов в ОАЭ – способы оформления завещания",desc:"В связи с текущей международной ситуацией многие граждане РФ обратили свой взгляд на Восток, в частности, в сторону ОАЭ – учредили компании, приобрели недвижимость, открыли банковские счета. Не редки ситуации, когда семьи полностью релоцировались в ОАЭ, не всегда успевая полностью разобраться в местных правилах наследования.",id:29,link:"/ru/nasledovanie-aktivov-v-oae-sposoby-oformleniya-zaveshchaniya.html",image:"../../images/insights/nasledovanie-aktivov-v-oae-sposoby-oformleniya-zaveshchaniya.jpeg"},{title:"Успеть добежать до канадской границы – или 10 пакет санкций ЕС",desc:"Список санкционных банков пополнился 25 февраля 2023 в рамках очередного, уже 10-го санкционного пакета ЕС. Если Альфа-Банк и Росбанк уже ранее попадал в санкционные сети США, то Тинькофф банк, ранее рассматриваемый как неприкосновенный оплот частного капитала, позволявший переводить средства из РФ за рубеж, пал очередной жертвой санкций.",id:28,link:"/ru/uspet-dobezhat-do-kanadskoj-granicy-ili-10-paket-sankcij-es.html",image:"../../images/insights/uspet-dobezhat-do-kanadskoj-granicy-ili-10-paket-sankcij-es.jpeg"},{title:"DIFC в ОАЭ – все для семьи",desc:"Вопрос эффективного управления семейными активами и сохранения благосостояния для следующих поколений стал особенно актуальным в условиях релокации граждан РФ за рубеж. Традиционно для данных целей использовались трасты или фонды, однако в текущих условиях многие инструменты зарубежных юрисдикций стали недоступны. Одна из немногих оставшихся опций – это механизмы сохранения благосостояния семьи в ОАЭ.",id:27,link:"/ru/difc-v-oaeh-vse-dlya-semi.html",image:"../../images/insights/difc-v-oaeh-vse-dlya-semi.jpeg"},{title:"Гренада – сейчас или никогда",desc:"Гренада – одна из немногих программ инвестиционного гражданства, которая все еще доступна для граждан РФ. В текущей ситуации наличие паспорта Гренады позволяет сохранить мобильность передвижений. Мы расскажем об основных преимуществах данной программы.",id:26,link:"/ru/grenada-sejchas-ili-nikogda.html",image:"../../images/insights/grenada-sejchas-ili-nikogda.jpg"},{title:"КИК по-английски: игры разума",desc:"Команда ITSWM разобралась в последних разъяснениях местных правил налогообложения доходов физических лиц – налоговых резидентов Великобритании при переводе активов за рубеж (Transfer of Assets Abroad Rules) и готова поделиться с вами.",id:25,link:"/ru/kik-po-anglijski-igry-razuma.html",image:"../../images/insights/kik-po-anglijski-igry-razuma.jpg"},{title:"Российский капитал – пора домой. Часть II",desc:"Конец 2022 года прошел под знаком великих «закрытий» в сфере рынка ценных бумаг - в срочном порядке переводили ценные бумаги из-за рубежа в РФ, до начала текущего года подавали заявки на разблокировку ценных бумаг, замороженных на счетах в НРД. И если с последними все еще не известен результат, то перевод ценных бумаг в РФ был так или иначе завершен. Так ли это - вы узнаете из нашего материала.",id:24,link:"/ru/rossijskij-kapital-pora-domoj-chast-ii.html",image:"../../images/insights/rossijskij-kapital-pora-domoj-chast-ii.jpg"},{title:"И вновь закружилось валютное танго",desc:"Согласно новым правилам, до конца марта текущего года можно выдавать займы в иностранной валюте дружественным нерезидентам. Помимо этого, появилась большая предсказуемость по вопросам выдачи разрешений Правительственной комиссией по сделкам продажи долей/акций российских обществ, продавцами по которым выступают лица из недружественных стран.",id:23,link:"/ru/i-vnov-zakruzhilos-valyutnoe-tango.html",image:"../../images/insights/i-vnov-zakruzhilos-valyutnoe-tango.jpg"},{title:"Принят 9-ый пакет санкций: что изменилось?",desc:"16 декабря ЕС принял уже девятый по счету пакет санкций в отношение России, который стал действовать немедленно после публикации. Разберемся, из каких частей он состоит.",id:22,link:"/ru/prinyat-9-yj-paket-sankcij-chto-izmenilos.html",image:"../../images/insights/prinyat-9-yj-paket-sankcij-chto-izmenilos.jpg"},{title:"ОАЭ – новые правила игры",desc:"С июня 2023 года в ОАЭ будет взиматься корпоративный налог по ставкам 0% и 9% в зависимости от размера дохода компании. Новые правила распространяются на компании материковой части ОАЭ, а также на компании в свободных экономических зонах.",id:21,link:"/ru/oaeh-novye-pravila-igry.html",image:"../../images/insights/oaeh-novye-pravila-igry.jpg"},{title:"Как получить дивиденды по акциям и облигациям, замороженным на иностранных счетах",desc:"Многим российским инвесторам уже удалось перевести в Россию часть ценных бумаг со своих иностранных счетов, несмотря на блокировку моста Национальный расчетный депозитарий. Это обеспечило не только доступ к самим бумагам, но и возможность получать дивиденды по ним.",id:20,link:"/ru/kak-poluchit-dividendy-po-akciyam-i-obligaciyam-zamorozhennym-na-inostrannyh-schetah.html",image:"../../images/insights/kak-poluchit-dividendy-po-akciyam-i-obligaciyam-zamorozhennym-na-inostrannyh-schetah.jpg"},{title:"ITSWM в числе лучших по версии Forbes Club Legal Ranking 2022",desc:"20 декабря 2022 года рейтинг Forbes Club Legal Ranking представил результаты исследования лучших консультационных фирм России, практикующих в области обслуживания интересов частного капитала.",id:19,link:"/ru/itswm_v_chisle_luchshih_po_versii_forbes_club_legal_ranking_2022.html",image:"../../images/insights/itswm-v-chisle-luchshih-po-versii-forbes-club-legal-ranking-2022.jpg"},{title:"Подарок под елку... или как (не)разблокировать активы, застрявшие в НРД",desc:"Новость о выдаче генеральной лицензии в отношении НРД сначала Люксембургом, а затем и Бельгией стали приятной неожиданность, которую ждали еще в октябре, после введения 8 пакета санкций. Однако на этом хорошие новости заканчиваются.",id:18,link:"/ru/podarok-pod-elku-ili-kak-ne-razblokirovat-aktivy-zastryavshie-v-nrd.html",image:"../../images/insights/podarok-pod-elku-ili-kak-ne-razblokirovat-aktivy-zastryavshie-v-nrd.jpg"},{title:"Зона риска для родственников подсанкционных лиц - есть ли из нее выход?",desc:"Расширение круга подсанкционных лиц прямым образом влияет на то, что родственники таких лиц и их близкое окружение подвергаются санкционному давлению. Какие существуют способы исключения родных и бизнес-партнеров лица, попавшего под санкции, из зоны риска?",id:17,link:"/ru/zona_riska_dlya_rodstvennikov_podsankcionnyh_lic_est_li_iz_nee_vyhod.html",image:"../../images/insights/zona_riska_dlya_rodstvennikov_podsankcionnyh_lic_est_li_iz_nee_vyhod.jpeg"},{title:"Путь на Восток: новые налоговые правила ОАЭ",desc:"Эмираты стремятся повысить свою привлекательность как юрисдикции для релокации и обеспечить предсказуемость налогового регулирования для частных лиц и их семей. Для этого в стране вводятся новые правила определения налогового резидентства.",id:16,link:"/ru/put-na-vostok-novye-nalogovye-pravila-oaeh.html",image:"../../images/insights/put-na-vostok-novye-nalogovye-pravila-oaeh-preview.jpg"},{title:"ВНЖ Кипра – новое и давно позабытое старое",desc:"Наличие ВНЖ Кипра является одной из немногих возможностей пользоваться счетами в европейских банках. Но с декабря 2022 года Кипр планирует начать применять более строгие правила в отношении финансирования кипрских компаний для целей получения ВНЖ.",id:15,link:"/ru/vnzh-kipra-novoe-i-davno-pozabytoe-staroe.html",image:"../../images/insights/vnzh-kipra-novoe-i-davno-pozabytoe-staroe.jpeg"},{title:"Европа и страны Ближнего Востока - открытие банковских счетов после марта 2022 года.",desc:"В Европейском союзе в отношении вывоза наличных денежных средств, для физических лиц, граждан и налоговых резидентов РФ, остро встал вопрос об открытии банковских счетов за рубежом.",id:14,link:"/ru/evropa_i_strany_blizhnego_vostoka_otkrytie_bankovskih_schetov_posle.html",image:"../../images/insights/evropa_i_strany_blizhnego_vostoka_otkrytie_bankovskih_schetov_posle.jpeg"},{title:"Банковский счет в Швейцарии – почему все изменилось?",desc:"На днях был опубликован новый перечень стран, которые обмениваются финансовой информацией с Федеральной налоговой службой в автоматическом порядке. Швейцария, равно как и Каймановы острова, не попали в новый перечень.",id:13,link:"/ru/bankovskij-schet-v-shvejcarii-pochemu-vse-izmenilos.html",image:"../../images/insights/bankovskij-schet-v-shvejcarii-pochemu-vse-izmenilos.jpg"},{title:"Изменения миграционного законодательства ОАЭ: новые возможности",desc:"В апреле 2022 года Кабинет министров ОАЭ одобрил первый пакет новых типов виз, который ввел дополнительные инструменты для получения визы в ОАЭ. 3 октября 2022 года визовые правила ОАЭ вновь подверглись изменениям.",id:12,link:"/ru/izmeneniya_migracionnogo_zakonodatelstva_oaeh_novye_vozmozhnosti.html",image:"../../images/insights/izmeneniya_migracionnogo_zakonodatelstva_oaeh_novye_vozmozhnosti.jpeg"},{title:"Эпоха вторичных санкций наступает?",desc:"Происходит радикальное изменение позиции ЕС в силу сложившейся политической ситуаций. В законодательство ЕС было внесено понятие «вторичных санкций». Развитие этой практики, возможно, пойдет по аналогии с активно используемыми вторичными санкциями США.",id:11,link:"/ru/ehpoha-vtorichnyh-sankcij-nastupaet.html",image:"../../images/insights/ehpoha-vtorichnyh-sankcij-nastupaet.jpeg"},{title:"Смягчение валютных ограничений для физических лиц",desc:"В апреле на сайте Банка России появилась важная новость для физических лиц. В этом году Международный день смеха запомнится, в том числе снятием некоторых валютных ограничений. Регулятор принял решение установить на ближайшее 6 месяцев новые пороги по суммам переводов средств за рубеж.",id:10,link:"insights/smyagchenie-valyutnyh-ogranichenij-dlya-fizicheskih-lic.html",image:"../../images/insights/smyagchenie-valyutnyh-ogranichenij-dlya-fizicheskih-lic.jpeg"},{title:"Санкционное законодательство, затрагивающее частных клиентов, в вопросах и ответах (по состоянию на 17 марта 2022)",desc:"Рассказываем о новых правилах операций с валютными счетами для физических и юридических лиц в формате ответов на самые популярные вопросы",id:9,link:"insights/sankcionnoe-zakonodatelstvo-zatragivayushchee-chastnyh-klientov-v-voprosah-i-otvetah-po-sostoyaniyu-na-17-marta-2022.html",image:"../../images/insights/sankcionnoe-zakonodatelstvo-zatragivayushchee-chastnyh-klientov-v-voprosah-i-otvetah-po-sostoyaniyu-na-17-marta-2022.jpeg"},{title:"Новые правила игры для бизнеса и&nbsp;частного капитала",desc:"В&nbsp;связи с&nbsp;сохранением напряженной политической ситуации ежедневно меняются правила игры для бизнеса и&nbsp;частного капитала. По&nbsp;состоянию на&nbsp;03&nbsp;марта 2022 введены новые ограничения, имеющие далеко идущие последствия.",id:8,link:"insights/novye-pravila-igry-dlya-biznesa-i-chastnogo-kapitala.html",image:"../../images/insights/novye-pravila-igry-dlya-biznesa-i-chastnogo-kapitala.jpg"},{title:"Санкции в&nbsp;отношении граждан&nbsp;РФ",desc:"По&nbsp;состоянию на&nbsp;25&nbsp;февраля 2022 окончательный объем санкций и&nbsp;их&nbsp;детали пока еще не&nbsp;ясны. Однако в&nbsp;текущей ситуации появились новый вид санкций, которые непосредственным образом сузят возможности россиян, привыкшим к&nbsp;открытым международным границам.",id:7,link:"insights/sankcii-v-otnoshenii-grazhdan-rf.html",image:"../../images/insights/sankcii-v-otnoshenii-grazhdan-rf.jpeg"},{title:"Кипр для профессионалов&nbsp;&mdash; почему это выгодно?",desc:"Помимо инвестиционных программ, с&nbsp;2017 года кипрское налоговое законодательство предусматривает упрощенный порядок признания лиц, осуществляющих профессиональную деятельность на&nbsp;острове, в&nbsp;качестве налоговых резидентов Кипра...",id:6,link:"insights/kipr-dlya-professionalov-pochemu-ehto-vygodno.html",image:"../../images/insights/kipr-dlya-professionalov-pochemu-ehto-vygodno.jpeg"},{title:"Что такое &laquo;домициль&raquo; и&nbsp;почему важно о&nbsp;нем помнить при смене налогового резидентства?",desc:"Проживание и&nbsp;наличие недвижимости в&nbsp;разных странах почти всегда влекут возникновение вопроса смены налогового резидентства. Важно понимать, какое государство будет облагать налогом доходы лица в&nbsp;случае, если у&nbsp;такого лица есть привязка к&nbsp;двум и&nbsp;более юрисдикциям. При этом вопрос домициля не&nbsp;всегда попадает в&nbsp;поле зрения сразу. Что&nbsp;же понимается под &laquo;домицилем&raquo;...",id:5,link:"insights/chto-takoe-domicil-i-pochemu-vazhno-o-nem-pomnit-pri-smene-nalogovogo-rezidentstva.html",image:"../../images/insights/chto-takoe-domicil-i-pochemu-vazhno-o-nem-pomnit-pri-smene-nalogovogo-rezidentstva.jpeg"},{title:"Гамбит королевы: правила владения жилой недвижимостью в&nbsp;Великобритании",desc:"С&nbsp;2017 года налоговое законодательство Великобритании существенным образом изменилось. Нововведения коснулись различных зарубежных структур, используемых для целей владения жилой недвижимостью в&nbsp;Великобритании.",id:4,link:"insights/gambit-korolevy-pravila-vladeniya-zhiloj-nedvizhimostyu-v-velikobritanii.html",image:"../../images/insights/gambit-korolevy-pravila-vladeniya-zhiloj-nedvizhimostyu-v-velikobritanii.jpeg"},{title:"Репатриация займов&nbsp;&mdash; о&nbsp;чем следует помнить",desc:"Валютное законодательство&nbsp;РФ содержит ряд ограничений, которые часто забывают при оформлении долгового финансирования с&nbsp;участием физических лиц или компаний&nbsp;&mdash; валютных резидентов&nbsp;РФ.",id:3,link:"insights/repatriaciya-zajmov-o-chem-sleduet-pomnit.html",image:"../../images/insights/repatriaciya-zajmov-o-chem-sleduet-pomnit.jpeg"},{title:"Как бенефициару иностранного Траста получить имущество без уплаты налогов",desc:"Налоговое законодательство&nbsp;РФ содержит положение о&nbsp;том, что некоторые доходы, полученные от&nbsp;структур без образования юридического лица (в&nbsp;том числе, от&nbsp;Траста), не&nbsp;будут облагаться налогом у&nbsp;получателя. Для того, чтобы такое правило применялось необходимо соблюсти ряд требований",id:2,link:"insights/kak-beneficiaru-inostrannogo-trasta-poluchit-imushchestvo-bez-uplaty-nalogov.html",image:"../../images/insights/kak-beneficiaru-inostrannogo-trasta-poluchit-imushchestvo-bez-uplaty-nalogov.jpeg"},{title:"Налоговые преимущества владения ценными бумагами через контролируемую иностранную компанию (КИК)",desc:"В&nbsp;связи со&nbsp;значительным колебанием курса рубля, каждый предусмотрительный инвестор&nbsp;&mdash; налоговый резидент Российской Федерации задумывался о&nbsp;возможности обезопасить свои инвестиции в&nbsp;зарубежные активы, в&nbsp;том числе, в&nbsp;ценные бумаги.",id:1,link:"insights/nalogovye-preimushchestva-vladeniya-cennymi-bumagami-cherez-kontroliruemuyu-inostrannuyu-kompaniyu-kik.html",image:"../../images/insights/nalogovye-preimushchestva-vladeniya-cennymi-bumagami-cherez-kontroliruemuyu-inostrannuyu-kompaniyu-kik.jpeg"}];window.addEventListener("load",(function(){if(null===document.querySelector(".insights-page"))return;new List("insights-list",{page:6,valueNames:["title","desc",{data:["id"]},{name:"link",attr:"href"},{name:"image",attr:"src"}],item:'<li data-id="1">\n            <article class="insight">\n              <a href="" class="link">\n                <figure>\n                  <img class="insight__image image" src="" loading="lazy"/>\n                </figure>\n                <h3 class="insight__title title"></h3>\n                <p class="insight__desc desc"></p>\n              </a>\n            </article>\n          </li>',pagination:[{paginationClass:"insights-pagination"}]},insightsListValuesRu)}));const HOVER_CLASS="is-hovered",MENU_SHOW_CLASS="menu__secondary-list--show",LINK_ACTIVE_CLASS="link__arrow--active",LINK_CURRENT_CLASS="is-current",resetActiveStyles=()=>{const e=document.querySelector("."+MENU_SHOW_CLASS),t=document.querySelector(".link__arrow--active"),i=document.querySelector(".is-current");e&&e.classList.remove(MENU_SHOW_CLASS),t&&t.classList.remove(LINK_ACTIVE_CLASS),i&&i.classList.remove("is-current")};document.addEventListener("DOMContentLoaded",()=>{document.body;const e=document.querySelector(".burger-menu"),t=document.querySelector(".menu"),i=(document.querySelector(".header .header__link"),()=>{document.body.clientWidth>699?(c(),n.forEach(e=>e.addEventListener("mouseover",()=>(e=>{const t=document.querySelector(".link__arrow--active"),i=document.querySelector("."+MENU_SHOW_CLASS),s=e.parentNode;t&&t.classList.remove(LINK_ACTIVE_CLASS),e.querySelector(".link__arrow").classList.add(LINK_ACTIVE_CLASS),i&&i.classList.remove(MENU_SHOW_CLASS),a.map(e=>{e.classList.remove(HOVER_CLASS)}),s.querySelector(".menu__secondary-list")&&s.querySelector(".menu__secondary-list").classList.add(MENU_SHOW_CLASS),[...s.querySelectorAll(".secondary-list__item")][0].classList.add("is-hovered")})(e))),a.forEach(e=>{e.addEventListener("mouseenter",l)})):function(){let e=document.getElementsByClassName("js-menu-primary-link");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){this.classList.toggle("is-active");let t=this.nextElementSibling;t.classList.toggle("is-visible"),t.style.height?t.style.height=null:t.style.height=t.scrollHeight+"px";let i=t.getElementsByClassName("secondary-list__item");for(let e=0;e<i.length;e++)i[e].addEventListener("click",(function(e){if(null==this.querySelector(".menu__secondary-link"))return;this.classList.toggle("is-active");let i=this.querySelector(".menu__tertiary-list");i.classList.toggle("is-visible"),i.style.height?(t.style.height=t.scrollHeight-i.scrollHeight+"px",i.style.height=null):(t.style.height=t.scrollHeight+i.scrollHeight+"px",i.style.height=i.scrollHeight+"px")}))}))}()}),s=()=>{e.classList.toggle("burger-menu--active"),t.classList.toggle("menu--active"),t.classList.contains("menu--active")?document.documentElement.classList.add("is-menu-opened"):document.documentElement.classList.remove("is-menu-opened"),t.classList.contains("menu--active")||(resetActiveStyles(),c())},n=[...document.querySelectorAll(".js-menu-primary-link")],a=[...document.querySelectorAll(".secondary-list__item")],r=e=>{let t=document.querySelector(e);t.querySelector(".secondary-list").classList.add(MENU_SHOW_CLASS),t.querySelector(".secondary-list__item").classList.add(HOVER_CLASS),t.querySelector(".link__arrow").classList.add(LINK_ACTIVE_CLASS)},o=(e,t,i=0)=>{if(null==e)return;let s=e.offsetTop+e.offsetHeight/2+"px";t.setAttribute("style",`top: ${s}; left: ${i}`)},l=e=>{a.map(e=>{e.classList.remove(HOVER_CLASS)}),e.target.classList.add(HOVER_CLASS),e.target.addEventListener("mouseover",t=>{let i,s,n=t.target;n.closest(".menu__tertiary-link")&&(i=n.closest(".menu__tertiary-link"),s=0),n.closest(".menu__quaternary-link")&&(i=n.closest(".menu__quaternary-link"),s="6%"),o(i,e.target.querySelector(".menu__arrow"),s)})},c=()=>{let e,i=window.location.href;if(i.includes("insights"))return;if(!i.includes("pages/"))return document.body.classList.contains("home-page")&&r(".js-home-page-link"),s="contacts.html",n=".js-contacts-link",void(window.location.href.includes(s)&&r(n));var s,n;if(e=i.includes("ru/")?i.split("/")[5]:i.split("/")[4],e&&e.includes("#")&&(e=e.split("#")[0]),null===t.querySelectorAll(`[href*='${e}']`))return;let a=[...t.querySelectorAll(`.menu__tertiary-link[href*='${e}']`)][0],l=a.closest(".secondary-list__item");a.classList.add("is-current"),a.closest(".secondary-list").classList.add(MENU_SHOW_CLASS),a.closest(".primary-list__item").querySelector(".menu__primary-link .link__arrow").classList.add(LINK_ACTIVE_CLASS),l.classList.add(HOVER_CLASS),o(a,l.querySelector(".menu__arrow"))};i(),e.addEventListener("click",s),e.addEventListener("keydown",e=>{32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),s())}),t.addEventListener("click",i=>{i.target.href&&window.location.href.split("#")[0].includes(i.target.href.split("#")[0])&&(e.classList.remove("burger-menu--active"),t.classList.remove("menu--active"),resetActiveStyles(),c())}),window.addEventListener("resize",()=>{resetActiveStyles(),c(),i()})}),function(e,t,i){function s(e,t){return typeof e===t}function n(e){var t=u.className,i=c._config.classPrefix||"";if(p&&(t=t.baseVal),c._config.enableJSClass){var s=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(s,"$1"+i+"js$2")}c._config.enableClasses&&(t+=" "+i+e.join(" "+i),p?u.className.baseVal=t:u.className=t)}function a(e,t){if("object"==typeof e)for(var i in e)d(e,i)&&a(i,e[i]);else{var s=(e=e.toLowerCase()).split("."),r=c[s[0]];if(2==s.length&&(r=r[s[1]]),void 0!==r)return c;t="function"==typeof t?t():t,1==s.length?c[s[0]]=t:(!c[s[0]]||c[s[0]]instanceof Boolean||(c[s[0]]=new Boolean(c[s[0]])),c[s[0]][s[1]]=t),n([(t&&0!=t?"":"no-")+s.join("-")]),c._trigger(e,t)}return c}var r=[],o=[],l={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout((function(){t(i[e])}),0)},addTest:function(e,t,i){o.push({name:e,fn:t,options:i})},addAsyncTest:function(e){o.push({name:null,fn:e})}},c=function(){};c.prototype=l,c=new c;var d,u=t.documentElement,p="svg"===u.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;d=s(e,"undefined")||s(e.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(t,i){return e.call(t,i)}}(),l._l={},l.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),c.hasOwnProperty(e)&&setTimeout((function(){c._trigger(e,c[e])}),0)},l._trigger=function(e,t){if(this._l[e]){var i=this._l[e];setTimeout((function(){var e;for(e=0;e<i.length;e++)(0,i[e])(t)}),0),delete this._l[e]}},c._q.push((function(){l.addTest=a})),c.addAsyncTest((function(){function e(e,t,i){function s(t){var s=!(!t||"load"!==t.type)&&1==n.width;a(e,"webp"===e&&s?new Boolean(s):s),i&&i(t)}var n=new Image;n.onerror=s,n.onload=s,n.src=t}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],i=t.shift();e(i.name,i.uri,(function(i){if(i&&"load"===i.type)for(var s=0;s<t.length;s++)e(t[s].name,t[s].uri)}))})),function(){var e,t,i,n,a,l;for(var d in o)if(o.hasOwnProperty(d)){if(e=[],(t=o[d]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=s(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(l=e[a].split(".")).length?c[l[0]]=n:(!c[l[0]]||c[l[0]]instanceof Boolean||(c[l[0]]=new Boolean(c[l[0]])),c[l[0]][l[1]]=n),r.push((n?"":"no-")+l.join("-"))}}(),n(r),delete l.addTest,delete l.addAsyncTest;for(var m=0;m<c._q.length;m++)c._q[m]();e.Modernizr=c}(window,document);const changeElementsTheme=(e=>{let i=[];return{init:function(){Array.from(document.querySelectorAll("[data-theme-observer-margin]")).forEach(e=>{const t=(s=e,n=e.dataset.themeObserverMargin,new IntersectionObserver(e=>{e.forEach(e=>{const{target:t,isIntersecting:i}=e;i&&("dark"===t.dataset.theme?s.classList.add("dark-theme"):s.classList.remove("dark-theme"))})},{rootMargin:n}));var s,n;i.push(t)}),Array.from(document.querySelectorAll("[data-section]")).forEach(e=>{i.forEach(t=>{t.observe(e)})})},destroy:function(){i.forEach(e=>e.disconnect()),t=[],Array.from(document.querySelectorAll("[data-theme-observer-margin]")).forEach(e=>{e.classList.remove("dark-theme")})}}})();window.addEventListener("load",()=>{document.body;const e=document.querySelector(".ss-content"),t=document.querySelector(".ss-scroll"),i=[...document.querySelectorAll("[data-section]")];let s=document.createElement("span"),n=t.cloneNode(!0);s.classList.add("scroll-bar-background"),n.classList.add("scrollbar-thumb","dark-theme"),n.dataset.themeObserverMargin="-55% 0% -45% 0%",i.map((e,t)=>{e.appendChild(s.cloneNode(!0))}),e.appendChild(n),changeElementsTheme.init();const a=()=>{n.style.top=getComputedStyle(t).top,n.style.height=getComputedStyle(t).height};e.addEventListener("scroll",a),window.addEventListener("resize",a),window.addEventListener("mouseenter",a)}),function(e,t){"object"==typeof exports?module.exports=t(window,document):window.SimpleScrollbar=t(window,document)}(0,(function(e,t){var i=e.requestAnimationFrame||e.setImmediate||function(e){return setTimeout(e,0)};function s(e){Object.defineProperty(e,"data-simple-scrollbar",{value:new o(e),configurable:!0})}function n(e){Object.prototype.hasOwnProperty.call(e,"data-simple-scrollbar")&&(e["data-simple-scrollbar"].unBind(),delete e["data-simple-scrollbar"])}function a(s){for(this.target=s,this.content=s.firstElementChild.nextElementSibling,this.direction=e.getComputedStyle(this.target).direction,this.bar='<div class="ss-scroll">',this.mB=this.moveBar.bind(this),this.wrapper=t.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=t.createElement("div"),this.el.setAttribute("class","ss-content"),"rtl"===this.direction&&this.el.classList.add("rtl"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,function(e,s){var n;function a(e){var t=e.pageY-n;n=e.pageY,i((function(){s.el.scrollTop+=t/s.scrollRatio}))}function r(){e.classList.remove("ss-grabbed"),t.querySelector(".ss-content").classList.remove("ss-grabbed"),t.removeEventListener("mousemove",a),t.removeEventListener("mouseup",r)}e.addEventListener("mousedown",(function(i){return n=i.pageY,e.classList.add("ss-grabbed"),t.querySelector(".ss-content").classList.add("ss-grabbed"),t.addEventListener("mousemove",a),t.addEventListener("mouseup",r),!1}))}(this.bar,this),this.moveBar(),e.addEventListener("resize",this.mB),this.el.addEventListener("scroll",this.mB),this.el.addEventListener("mouseenter",this.mB),this.target.classList.add("ss-container");var n=e.getComputedStyle(s);"0px"===n.height&&"0px"!==n["max-height"]&&(s.style.height=n["max-height"]),this.unBind=function(){e.removeEventListener("resize",this.mB),this.el.removeEventListener("scroll",this.mB),this.el.removeEventListener("mouseenter",this.mB),this.target.classList.remove("ss-container"),this.target.insertBefore(this.content,this.wrapper),this.target.removeChild(this.wrapper),this.target.removeChild(this.bar),this.bar=null}}function r(){for(var e=t.querySelectorAll("*[ss-container]"),i=0;i<e.length;i++)s(e[i])}a.prototype={moveBar:function(e){var t=this.el.scrollHeight,s=this.el.clientHeight,n=this;this.scrollRatio=s/t;n.direction,n.bar.clientWidth;i((function(){n.scrollRatio>=1?n.bar.classList.add("ss-hidden"):(n.bar.classList.remove("ss-hidden"),n.bar.style.cssText="height:"+Math.max(100*n.scrollRatio,10)+"%; top:"+n.el.scrollTop/t*100+"%")}))}},t.addEventListener("DOMContentLoaded",r),a.initEl=s,a.initAll=r,a.unbindEl=n,a.unbindAll=function(){for(var e=t.querySelectorAll(".ss-container"),i=0;i<e.length;i++)n(e[i])};var o=a;return o}));import Swiper from"https://unpkg.com/swiper@9.4.1/swiper-bundle.esm.browser.min.js";window.addEventListener("load",()=>{if(null!==document.querySelector(".home-page")){new Swiper(".main-swiper__container",{direction:"horizontal",loop:!0,speed:600,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next"}}),new Swiper(".timeline__swiper",{direction:"horizontal",centeredSlides:!0,centeredSlidesBounds:!0,speed:600,slidesPerView:1.65,spaceBetween:.171875*window.innerWidth,grabCursor:!0,navigation:{prevEl:".timeline__button-prev",nextEl:".timeline__button-next"},scrollbar:{el:".timeline__scrollbar",hide:!1,dragSize:20,dragClass:"timeline__scrollbar-drag"},breakpoints:{700:{slidesPerView:3,spaceBetween:30,centeredSlides:!1},1190:{slidesPerView:3,spaceBetween:50,centeredSlides:!1}}})}if(null!==document.querySelector(".alt-invest-page")){new Swiper(".alt-invest-page .swiper-container:not(.full-height)",{effect:"fade",fadeEffect:{crossFade:!0},autoHeight:!0,pagination:{el:".text-swiper-pagination",clickable:!0},navigation:{nextEl:".text-swiper-button-next",prevEl:".text-swiper-button-prev"},breakpoints:{700:{fadeEffect:{crossFade:!1},autoHeight:!1}}}),new Swiper(".alt-invest-page .swiper-container.full-height",{effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".full-height .text-swiper-pagination",clickable:!0},navigation:{nextEl:".full-height .text-swiper-button-next",prevEl:".full-height .text-swiper-button-prev"},breakpoints:{700:{fadeEffect:{crossFade:!1}}}})}if(null!==document.querySelector(".maintenance-page")){new Swiper("#taxes .text-swiper",{effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:"#taxes .text-swiper-pagination",clickable:!0},navigation:{nextEl:"#taxes .text-swiper-button-next",prevEl:"#taxes .text-swiper-button-prev"}}),new Swiper("#legal-support .text-swiper",{effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:"#legal-support .text-swiper-pagination",clickable:!0},navigation:{nextEl:"#legal-support .text-swiper-button-next",prevEl:"#legal-support .text-swiper-button-prev"}})}if(null!==document.querySelector(".succession-page")){new Swiper(".succession-page .swiper-container:not(.full-height)",{effect:"fade",fadeEffect:{crossFade:!0},autoHeight:!0,pagination:{el:".text-swiper-pagination",clickable:!0},navigation:{nextEl:".text-swiper-button-next",prevEl:".text-swiper-button-prev"},breakpoints:{700:{fadeEffect:{crossFade:!1},autoHeight:!1}}}),new Swiper(".succession-page .swiper-container.full-height",{effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".full-height .text-swiper-pagination",clickable:!0},navigation:{nextEl:".full-height .text-swiper-button-next",prevEl:".full-height .text-swiper-button-prev"},breakpoints:{700:{fadeEffect:{crossFade:!1}}}})}if(null!==document.querySelector(".team-page")){new Swiper("#partners .swiper-container",{direction:"horizontal",pagination:{el:".text-swiper-pagination",clickable:!0},navigation:{nextEl:".text-swiper-button-next",prevEl:".text-swiper-button-prev"}})}}),window.addEventListener("load",(function(){if(null===document.querySelector(".team-page"))return;const e=document.querySelector(".js-team"),t=e.querySelector(".arrow"),i=()=>{document.body.clientWidth>699?e.addEventListener("mouseover",i=>{if(!i.target.closest(".team__member"))return;let s=i.target.closest(".team__member"),n=(s.getAttribute("id"),e.querySelector(`[aria-labelledby=${s.id}]`));[...e.querySelectorAll("[aria-labelledby]")].map(e=>{e.classList.remove("visible")}),n.classList.add("visible");let a=s.offsetTop+s.querySelector(".team__member-name").offsetHeight/2+"px";t.setAttribute("style","top: "+a)}):function(){let e=document.getElementsByClassName("team__member");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("is-active");let e=this.querySelector(`[aria-labelledby=${this.getAttribute("id")}]`);e.classList.toggle("visible"),e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}))}()};i(),window.addEventListener("resize",()=>{i()})})),window.addEventListener("load",(function(){if(null===document.querySelector(".wwd-slide"))return;let e=[],t=[],i=[...document.querySelectorAll(".wwd-slide .wwd-slide__list")];const s=(i,s)=>{let n=document.querySelector(`[aria-labelledby=${i.id}]`),a=[...i.closest(".wwd-slide").querySelectorAll(".wwd-slide__text")];for(let e=0;e<a.length;e++)a[e].classList.remove("visible");i.ariaSelected||(document.querySelectorAll(".wwd-slide__list-item").forEach((e,t)=>{e.setAttribute("aria-selected","false")}),i.setAttribute("aria-selected","true")),n.classList.add("visible");let r=getComputedStyle(i).paddingTop.slice(0,-2),o=i.offsetTop+1*r+(i.offsetHeight-2*r)/2+"px";e["line-"+s].setAttribute("style","opacity: 1; top: "+o),t["arrow-"+s].setAttribute("style","opacity: 1; top: "+o)};i.map((i,n)=>{e.push("line-"+n),t.push("arrow-"+n),e["line-"+n]=i.parentElement.querySelector(".wwd-slide__list-line"),t["arrow-"+n]=i.parentElement.querySelector(".wwd-slide__list-arrow"),s([...i.querySelectorAll(".wwd-slide__list-item")][0],n),i.addEventListener("mouseover",e=>((e,t)=>{if(!e.target.classList.contains("wwd-slide__list-item"))return;let i=e.target;s(i,t)})(e,n))})}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5taW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicXVlcnlTZWxlY3RvciIsIm5hdkNpcmNsZUl0ZW1zIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZWwxcmVjdCIsImVsMnJlY3QiLCJlbDF4IiwiZWwxeSIsImVsMngiLCJlbDJ5IiwiaW1nMSIsImltZzIiLCJzZXRMaW5lV2lkdGhCZXR3ZWVuU2xpZGVJbWFnZXMiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiZWwxIiwiZWwyIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsIndpZHRoIiwidG9wIiwiaGVpZ2h0IiwiZGlzdGFuY2VTcXVhcmVkIiwiTWF0aCIsInBvdyIsInNxcnQiLCJnZXREaXN0YW5jZUJldHdlZW5TbGlkZUltYWdlcyIsIndpbmRvdyIsImNvbnNvbGUiLCJsb2ciLCJpbnNpZ2h0c0xpc3RWYWx1ZXNSdSIsInRpdGxlIiwiZGVzYyIsImlkIiwibGluayIsImltYWdlIiwiTGlzdCIsInBhZ2UiLCJ2YWx1ZU5hbWVzIiwiZGF0YSIsIm5hbWUiLCJhdHRyIiwiaXRlbSIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xhc3MiLCJIT1ZFUl9DTEFTUyIsIk1FTlVfU0hPV19DTEFTUyIsIkxJTktfQUNUSVZFX0NMQVNTIiwiTElOS19DVVJSRU5UX0NMQVNTIiwicmVzZXRBY3RpdmVTdHlsZXMiLCJhY3RpdmVCbG9jayIsImFjdGl2ZUxpbmsiLCJjdXJyZW50TGluayIsImJvZHkiLCJidXR0b24iLCJtZW51IiwiY2hlY2tTaXplcyIsImNsaWVudFdpZHRoIiwiaGFuZGxlQ3VycmVudFBhZ2UiLCJwcmltYXJ5TGlua3MiLCJmb3JFYWNoIiwicGFyZW50TGlzdCIsInBhcmVudE5vZGUiLCJsaW5rc0xpc3RBcnJheSIsIm1hcCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsaW5rSGFuZGxlciIsImxpbmtzTGlzdCIsImxpbmtzTGlzdEhhbmRsZXIiLCJtZW51QWNjIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImkiLCJsZW5ndGgiLCJ0aGlzIiwidG9nZ2xlIiwicGFuZWwiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJzY3JvbGxIZWlnaHQiLCJtZW51QWNjMiIsInBhbmVsMiIsIm1vYmlsZU1lbnVPcGVuZXIiLCJ0b2dnbGVNZW51IiwiY29udGFpbnMiLCJzZXRWaXNpYmxlTWVudUJ5UHJpbWFyeUJsb2NrIiwic2VsZWN0b3IiLCJwcmltYXJ5QmxvY2siLCJtb3ZlQXJyb3ciLCJ0YXJnZXRFbCIsImFycm93IiwibGVmdE9mZnNldCIsInVuZGVmaW5lZCIsInRvcFBvc2l0aW9uIiwib2Zmc2V0VG9wIiwib2Zmc2V0SGVpZ2h0Iiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJvZmZzZXQiLCJlbCIsImN1cnJlbnRQYWdlTGluayIsInBhZ2VMaW5rIiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJjaGVja0xpbmsiLCJzcGxpdCIsImxpbmtDb250YWluZXIiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJuIiwiQSIsIm8iLCJhIiwidSIsImNsYXNzTmFtZSIsIk1vZGVybml6ciIsIl9jb25maWciLCJjbGFzc1ByZWZpeCIsImMiLCJiYXNlVmFsIiwiZW5hYmxlSlNDbGFzcyIsIlJlZ0V4cCIsInJlcGxhY2UiLCJlbmFibGVDbGFzc2VzIiwiam9pbiIsImYiLCJ0b0xvd2VyQ2FzZSIsInQiLCJCb29sZWFuIiwiX3RyaWdnZXIiLCJzIiwiciIsImwiLCJfdmVyc2lvbiIsInVzZVByZWZpeGVzIiwiX3EiLCJvbiIsInNldFRpbWVvdXQiLCJhZGRUZXN0IiwicHVzaCIsImZuIiwib3B0aW9ucyIsImFkZEFzeW5jVGVzdCIsInByb3RvdHlwZSIsIm5vZGVOYW1lIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uc3RydWN0b3IiLCJfbCIsInR5cGUiLCJJbWFnZSIsIm9uZXJyb3IiLCJvbmxvYWQiLCJzcmMiLCJ1cmkiLCJzaGlmdCIsImFsaWFzZXMiLCJwIiwiY2hhbmdlRWxlbWVudHNUaGVtZSIsIm9ic2VydmVyQXJyYXkiLCJpbml0IiwiQXJyYXkiLCJmcm9tIiwiaW9PYmplY3QiLCJvYnNlcnZlck1hcmdpbiIsImRhdGFzZXQiLCJ0aGVtZU9ic2VydmVyTWFyZ2luIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRoZW1lIiwicm9vdE1hcmdpbiIsIm9ic2VydmUiLCJkZXN0cm95IiwiZGlzY29ubmVjdCIsInNjcm9sbENvbnRhaW5lciIsInNjcm9sbEJhciIsInNlY3Rpb25zQXJyYXkiLCJzY3JvbGxCYXJUaHVtYkJnIiwiY3JlYXRlRWxlbWVudCIsInNjcm9sbEJhclRodW1iIiwiY2xvbmVOb2RlIiwiYXBwZW5kQ2hpbGQiLCJzY3JvbGxFdmVudCIsImdldENvbXB1dGVkU3R5bGUiLCJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJTaW1wbGVTY3JvbGxiYXIiLCJ3IiwiZCIsInJhZiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldEltbWVkaWF0ZSIsImluaXRFbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjb25maWd1cmFibGUiLCJ1bmJpbmRFbCIsInVuQmluZCIsInNzIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiZGlyZWN0aW9uIiwiYmFyIiwibUIiLCJtb3ZlQmFyIiwiYmluZCIsIndyYXBwZXIiLCJmaXJzdENoaWxkIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwibGFzdENoaWxkIiwiY29udGV4dCIsImxhc3RQYWdlWSIsImRyYWciLCJkZWx0YSIsInBhZ2VZIiwic2Nyb2xsVG9wIiwic2Nyb2xsUmF0aW8iLCJzdG9wIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRyYWdEZWFsZXIiLCJjc3MiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsImluaXRBbGwiLCJub2RlcyIsInRvdGFsSGVpZ2h0Iiwib3duSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiX3RoaXMiLCJjc3NUZXh0IiwibWF4IiwidW5iaW5kQWxsIiwiU3dpcGVyIiwibG9vcCIsInNwZWVkIiwia2V5Ym9hcmQiLCJlbmFibGVkIiwib25seUluVmlld3BvcnQiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwiY2VudGVyZWRTbGlkZXMiLCJjZW50ZXJlZFNsaWRlc0JvdW5kcyIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJpbm5lcldpZHRoIiwiZ3JhYkN1cnNvciIsInByZXZFbCIsInNjcm9sbGJhciIsImhpZGUiLCJkcmFnU2l6ZSIsImRyYWdDbGFzcyIsImJyZWFrcG9pbnRzIiwiNzAwIiwiMTE5MCIsImVmZmVjdCIsImZhZGVFZmZlY3QiLCJjcm9zc0ZhZGUiLCJhdXRvSGVpZ2h0IiwiY2xpY2thYmxlIiwidGVhbSIsInRhcmdldFRleHQiLCJnZXRBdHRyaWJ1dGUiLCJ0ZWFtQWNjIiwibWF4SGVpZ2h0IiwibW9iaWxlVGVhbVZpZXdlciIsImxpbmVzIiwiYXJyb3dzIiwic2xpZGVMaXN0QXJyYXkiLCJzZXRMaW5lQXJyb3dQb3NpdGlvbiIsImVsZW0iLCJ0YWJUZXh0RWxlbWVudCIsInRhYlRleHRzQXJyYXkiLCJrIiwiYXJpYVNlbGVjdGVkIiwicGFkZGluZ0xpbmsiLCJwYWRkaW5nVG9wIiwic2xpY2UiLCJzbGlkZUxpc3QiLCJwYXJlbnRFbGVtZW50IiwidGFiTW91c2VPdmVyQmVoYXZpb3IiXSwibWFwcGluZ3MiOiJBQUFBQSxTQUFTQyxpQkFBaUIsb0JBQW9CLFdBQzVDLEdBQWlELE9BQTdDRCxTQUFTRSxjQUFjLGtCQUE0QixPQUV2RCxNQUNNQyxFQUFpQkgsU0FBU0UsY0FBYyxrQkFFOUNDLEVBQWVGLGlCQUFpQixhQUdoQyxTQUFvQ0csR0FDbEMsSUFBS0EsRUFBRUMsT0FBT0MsUUFBUSxtQkFBb0IsT0FDMUNG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QUFLdUIsYUFDbkIsUUFDQSxvQkFBb0JILElBV3hCb0wsRUFBZS9NLElBQUksQ0FBQ3lOLEVBQVdsTixLQUM3QnNNLEVBQU1uSSxLQUFLLFFBQVFuRSxHQUNuQnVNLEVBQU9wSSxLQUFLLFNBQVNuRSxHQUNyQnNNLEVBQU0sUUFBUXRNLEdBQU9rTixFQUFVQyxjQUFjaFMsY0FDM0MseUJBRUZvUixFQUFPLFNBQVN2TSxHQUFPa04sRUFBVUMsY0FBY2hTLGNBQzdDLDBCQUdGc1IsRUFDRSxJQUFJUyxFQUFVeE4saUJBQWlCLDBCQUEwQixHQUN6RE0sR0FHRmtOLEVBQVVoUyxpQkFBaUIsWUFBYUcsR0F0QmIsRUFBQ0EsRUFBRzJFLEtBQy9CLElBQUszRSxFQUFFQyxPQUFPRyxVQUFVa0YsU0FBUyx3QkFBeUIsT0FFMUQsSUFBSStMLEVBQU9yUixFQUFFQyxPQUNibVIsRUFBcUJDLEVBQU0xTSxJQWtCa0JvTixDQUFxQi9SLEVBQUcyRSIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oKSB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLW5hdi1jaXJjbGVcIikgPT09IG51bGwpIHJldHVybjtcblxuICBjb25zdCBIT1ZFUl9DTEFTUyA9IFwiaXMtaG92ZXJlZFwiO1xuICBjb25zdCBuYXZDaXJjbGVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtbmF2LWNpcmNsZVwiKTtcblxuICBuYXZDaXJjbGVJdGVtcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGFkZEhvdmVyU3RhdGVGcm9tQ2lyY2xlTmF2KTtcbiAgbmF2Q2lyY2xlSXRlbXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHJlbW92ZUhvdmVyU3RhdGVGcm9tQ2lyY2xlTmF2KTtcblxuICBmdW5jdGlvbiBhZGRIb3ZlclN0YXRlRnJvbUNpcmNsZU5hdihlKSB7XG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KFwiLmpzLWNpcmNsZS10ZXh0XCIpKSByZXR1cm47XG4gICAgZS50YXJnZXRcbiAgICAgIC5jbG9zZXN0KFwiLmpzLWNpcmNsZS10ZXh0XCIpXG4gICAgICAucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuYWRkKEhPVkVSX0NMQVNTKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUhvdmVyU3RhdGVGcm9tQ2lyY2xlTmF2KGUpIHtcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoXCIuanMtY2lyY2xlLXRleHRcIikpIHJldHVybjtcbiAgICBlLnRhcmdldFxuICAgICAgLmNsb3Nlc3QoXCIuanMtY2lyY2xlLXRleHRcIilcbiAgICAgIC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoSE9WRVJfQ0xBU1MpO1xuICB9XG59KTtcblxuaW1wb3J0IFwiaHR0cHM6Ly91bnBrZy5jb20vc3dlZXQtc2Nyb2xsL3N3ZWV0LXNjcm9sbC5taW4uanNcIjtcblxuLy8gY29uc29sZS5sb2cod2luZG93Lm5hdmlnYXRvci51c2VyTGFuZ3VhZ2UgfHwgd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZXMpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvbWUtcGFnZVwiKSA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gIGxldCBpbWcxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBcIi5zbGlkZS1wZW9wbGUgLnN3aXBlci1zbGlkZV9faW1nLWNvbnRhaW5lciBpbWdcIlxuICApO1xuICBsZXQgaW1nMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgXCIuc2xpZGUtcmVzdWx0IC5zd2lwZXItc2xpZGVfX2ltZy1jb250YWluZXIgaW1nXCJcbiAgKTtcbiAgbGV0IGVsMXJlY3QsIGVsMnJlY3QsIGVsMXgsIGVsMXksIGVsMngsIGVsMnk7XG5cbiAgLy8gc2V0IGxpbmUgd2lkdGggaW4gbWFpbiBzd2lwZXJcbiAgc2V0TGluZVdpZHRoQmV0d2VlblNsaWRlSW1hZ2VzKCk7XG4gIC8vIHdoYXQgd2UgZG8gc2VjdGlvbiAtIGFycm93IGJlaGF2aW9yIG9uIGxpbmsgaG92ZXJcbiAgLy8gaG92ZXJFZmZlY3RBcnJvdygpO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiZmRmZFwiKTtcbiAgICBzZXRMaW5lV2lkdGhCZXR3ZWVuU2xpZGVJbWFnZXMoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0RGlzdGFuY2VCZXR3ZWVuU2xpZGVJbWFnZXMoZWwxLCBlbDIpIHtcbiAgICBlbDFyZWN0ID0gZWwxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGVsMnJlY3QgPSBlbDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZWwxeCA9IGVsMXJlY3QubGVmdCArIGVsMXJlY3Qud2lkdGggLyAyO1xuICAgIGVsMXkgPSBlbDFyZWN0LnRvcCArIGVsMXJlY3QuaGVpZ2h0IC8gMjtcbiAgICBlbDJ4ID0gZWwycmVjdC5sZWZ0ICsgZWwycmVjdC53aWR0aCAvIDQ7XG4gICAgZWwyeSA9IGVsMnJlY3QudG9wICsgZWwycmVjdC5oZWlnaHQgLyAyO1xuXG4gICAgLy8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSB1c2luZyB0aGUgUHl0aGFnb3JlYW4gVGhlb3JlbSAoYV4yICsgYl4yID0gY14yKVxuICAgIGxldCBkaXN0YW5jZVNxdWFyZWQgPSBNYXRoLnBvdyhlbDF4IC0gZWwyeCwgMikgKyBNYXRoLnBvdyhlbDF5IC0gZWwyeSwgMik7XG4gICAgcmV0dXJuIE1hdGguc3FydChkaXN0YW5jZVNxdWFyZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0TGluZVdpZHRoQmV0d2VlblNsaWRlSW1hZ2VzKCkge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgIFwiLS1saW5lLWRpc3RhbmNlXCIsXG4gICAgICBnZXREaXN0YW5jZUJldHdlZW5TbGlkZUltYWdlcyhpbWcxLCBpbWcyKSArIFwicHhcIlxuICAgICk7XG4gIH1cbn0pO1xuXG5jb25zdCBpbnNpZ2h0c0xpc3RWYWx1ZXNSdSA9IFtcbiAge1xuICAgIHRpdGxlOiBcItCh0LzRj9Cz0YfQtdC90LjQtSDQstCw0LvRjtGC0L3Ri9GFINC+0LPRgNCw0L3QuNGH0LXQvdC40Lkg0LTQu9GPINGE0LjQt9C40YfQtdGB0LrQuNGFINC70LjRhlwiLFxuICAgIGRlc2M6XG4gICAgICBcItCSINCw0L/RgNC10LvQtSDQvdCwINGB0LDQudGC0LUg0JHQsNC90LrQsCDQoNC+0YHRgdC40Lgg0L/QvtGP0LLQuNC70LDRgdGMINCy0LDQttC90LDRjyDQvdC+0LLQvtGB0YLRjCDQtNC70Y8g0YTQuNC30LjRh9C10YHQutC40YUg0LvQuNGGLiDQkiDRjdGC0L7QvCDQs9C+0LTRgyDQnNC10LbQtNGD0L3QsNGA0L7QtNC90YvQuSDQtNC10L3RjCDRgdC80LXRhdCwINC30LDQv9C+0LzQvdC40YLRgdGPLCDQsiDRgtC+0Lwg0YfQuNGB0LvQtSDRgdC90Y/RgtC40LXQvCDQvdC10LrQvtGC0L7RgNGL0YUg0LLQsNC70Y7RgtC90YvRhSDQvtCz0YDQsNC90LjRh9C10L3QuNC5LiDQoNC10LPRg9C70Y/RgtC+0YAg0L/RgNC40L3Rj9C7INGA0LXRiNC10L3QuNC1INGD0YHRgtCw0L3QvtCy0LjRgtGMINC90LAg0LHQu9C40LbQsNC50YjQtdC1IDYg0LzQtdGB0Y/RhtC10LIg0L3QvtCy0YvQtSDQv9C+0YDQvtCz0Lgg0L/QviDRgdGD0LzQvNCw0Lwg0L/QtdGA0LXQstC+0LTQvtCyINGB0YDQtdC00YHRgtCyINC30LAg0YDRg9Cx0LXQti5cIixcbiAgICBpZDogMTAsXG4gICAgbGluazpcbiAgICAgIFwiaW5zaWdodHMvc215YWdjaGVuaWUtdmFseXV0bnloLW9ncmFuaWNoZW5pai1kbHlhLWZpemljaGVza2loLWxpYy5odG1sXCIsXG4gICAgaW1hZ2U6XG4gICAgICBcIi4uLy4uL2ltYWdlcy9pbnNpZ2h0cy9zbXlhZ2NoZW5pZS12YWx5dXRueWgtb2dyYW5pY2hlbmlqLWRseWEtZml6aWNoZXNraWgtbGljLmpwZWdcIlxuICB9LFxuICB7XG4gICAgdGl0bGU6XG4gICAgICBcItCh0LDQvdC60YbQuNC+0L3QvdC+0LUg0LfQsNC60L7QvdC+0LTQsNGC0LXQu9GM0YHRgtCy0L4sINC30LDRgtGA0LDQs9C40LLQsNGO0YnQtdC1INGH0LDRgdGC0L3Ri9GFINC60LvQuNC10L3RgtC+0LIsINCyINCy0L7Qv9GA0L7RgdCw0YUg0Lgg0L7RgtCy0LXRgtCw0YUgKNC/0L4g0YHQvtGB0YLQvtGP0L3QuNGOINC90LAgMTcg0LzQsNGA0YLQsCAyMDIyKVwiLFxuICAgIGRlc2M6XG4gICAgICBcItCg0LDRgdGB0LrQsNC30YvQstCw0LXQvCDQviDQvdC+0LLRi9GFINC/0YDQsNCy0LjQu9Cw0YUg0L7Qv9C10YDQsNGG0LjQuSDRgSDQstCw0LvRjtGC0L3Ri9C80Lgg0YHRh9C10YLQsNC80Lgg0LTQu9GPINGE0LjQt9C40YfQtdGB0LrQuNGFINC4INGO0YDQuNC00LjRh9C10YHQutC40YUg0LvQuNGGINCyINGE0L7RgNC80LDRgtC1INC+0YLQstC10YLQvtCyINC90LAg0YHQsNC80YvQtSDQv9C+0L/Rg9C70Y/RgNC90YvQtSDQstC+0L/RgNC+0YHRi1wiLFxuICAgIGlkOiA5LFxuICAgIGxpbms6XG4gICAgICBcImluc2lnaHRzL3NhbmtjaW9ubm9lLXpha29ub2RhdGVsc3R2by16YXRyYWdpdmF5dXNoY2hlZS1jaGFzdG55aC1rbGllbnRvdi12LXZvcHJvc2FoLWktb3R2ZXRhaC1wby1zb3N0b3lhbml5dS1uYS0xNy1tYXJ0YS0yMDIyLmh0bWxcIixcbiAgICBpbWFnZTpcbiAgICAgIFwiLi4vLi4vaW1hZ2VzL2luc2lnaHRzL3NhbmtjaW9ubm9lLXpha29ub2RhdGVsc3R2by16YXRyYWdpdmF5dXNoY2hlZS1jaGFzdG55aC1rbGllbnRvdi12LXZvcHJvc2FoLWktb3R2ZXRhaC1wby1zb3N0b3lhbml5dS1uYS0xNy1tYXJ0YS0yMDIyLmpwZWdcIlxuICB9LFxuICB7XG4gICAgdGl0bGU6IFwi0J3QvtCy0YvQtSDQv9GA0LDQstC40LvQsCDQuNCz0YDRiyDQtNC70Y8g0LHQuNC30L3QtdGB0LAg0LgmbmJzcDvRh9Cw0YHRgtC90L7Qs9C+INC60LDQv9C40YLQsNC70LBcIixcbiAgICBkZXNjOlxuICAgICAgXCLQkiZuYnNwO9GB0LLRj9C30Lgg0YEmbmJzcDvRgdC+0YXRgNCw0L3QtdC90LjQtdC8INC90LDQv9GA0Y/QttC10L3QvdC+0Lkg0L/QvtC70LjRgtC40YfQtdGB0LrQvtC5INGB0LjRgtGD0LDRhtC40Lgg0LXQttC10LTQvdC10LLQvdC+INC80LXQvdGP0Y7RgtGB0Y8g0L/RgNCw0LLQuNC70LAg0LjQs9GA0Ysg0LTQu9GPINCx0LjQt9C90LXRgdCwINC4Jm5ic3A70YfQsNGB0YLQvdC+0LPQviDQutCw0L/QuNGC0LDQu9CwLiDQn9C+Jm5ic3A70YHQvtGB0YLQvtGP0L3QuNGOINC90LAmbmJzcDswMyZuYnNwO9C80LDRgNGC0LAgMjAyMiDQstCy0LXQtNC10L3RiyDQvdC+0LLRi9C1INC+0LPRgNCw0L3QuNGH0LXQvdC40Y8sINC40LzQtdGO0YnQuNC1INC00LDQu9C10LrQviDQuNC00YPRidC40LUg0L/QvtGB0LvQtdC00YHRgtCy0LjRjy5cIixcbiAgICBpZDogOCxcbiAgICBsaW5rOiBcImluc2lnaHRzL25vdnllLXByYXZpbGEtaWdyeS1kbHlhLWJpem5lc2EtaS1jaGFzdG5vZ28ta2FwaXRhbGEuaHRtbFwiLFxuICAgIGltYWdlOlxuICAgICAgXCIuLi8uLi9pbWFnZXMvaW5zaWdodHMvbm92eWUtcHJhdmlsYS1pZ3J5LWRseWEtYml6bmVzYS1pLWNoYXN0bm9nby1rYXBpdGFsYS5qcGdcIlxuICB9LFxuICB7XG4gICAgdGl0bGU6IFwi0KHQsNC90LrRhtC40Lgg0LImbmJzcDvQvtGC0L3QvtGI0LXQvdC40Lgg0LPRgNCw0LbQtNCw0L0mbmJzcDvQoNCkXCIsXG4gICAgZGVzYzpcbiAgICAgIFwi0J/QviZuYnNwO9GB0L7RgdGC0L7Rj9C90LjRjiDQvdCwJm5ic3A7MjUmbmJzcDvRhNC10LLRgNCw0LvRjyAyMDIyINC+0LrQvtC90YfQsNGC0LXQu9GM0L3Ri9C5INC+0LHRitC10Lwg0YHQsNC90LrRhtC40Lkg0LgmbmJzcDvQuNGFJm5ic3A70LTQtdGC0LDQu9C4INC/0L7QutCwINC10YnQtSDQvdC1Jm5ic3A70Y/RgdC90YsuINCe0LTQvdCw0LrQviDQsiZuYnNwO9GC0LXQutGD0YnQtdC5INGB0LjRgtGD0LDRhtC40Lgg0L/QvtGP0LLQuNC70LjRgdGMINC90L7QstGL0Lkg0LLQuNC0INGB0LDQvdC60YbQuNC5LCDQutC+0YLQvtGA0YvQtSDQvdC10L/QvtGB0YDQtdC00YHRgtCy0LXQvdC90YvQvCDQvtCx0YDQsNC30L7QvCDRgdGD0LfRj9GCINCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0YDQvtGB0YHQuNGP0L0sINC/0YDQuNCy0YvQutGI0LjQvCDQuiZuYnNwO9C+0YLQutGA0YvRgtGL0Lwg0LzQtdC20LTRg9C90LDRgNC+0LTQvdGL0Lwg0LPRgNCw0L3QuNGG0LDQvC5cIixcbiAgICBpZDogNyxcbiAgICBsaW5rOiBcImluc2lnaHRzL3NhbmtjaWktdi1vdG5vc2hlbmlpLWdyYXpoZGFuLXJmLmh0bWxcIixcbiAgICBpbWFnZTogXCIuLi8uLi9pbWFnZXMvaW5zaWdodHMvc2Fua2NpaS12LW90bm9zaGVuaWktZ3JhemhkYW4tcmYuanBlZ1wiXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogXCLQmtC40L/RgCDQtNC70Y8g0L/RgNC+0YTQtdGB0YHQuNC+0L3QsNC70L7QsiZuYnNwOyZtZGFzaDsg0L/QvtGH0LXQvNGDINGN0YLQviDQstGL0LPQvtC00L3Qvj9cIixcbiAgICBkZXNjOlxuICAgICAgXCLQn9C+0LzQuNC80L4g0LjQvdCy0LXRgdGC0LjRhtC40L7QvdC90YvRhSDQv9GA0L7Qs9GA0LDQvNC8LCDRgSZuYnNwOzIwMTcg0LPQvtC00LAg0LrQuNC/0YDRgdC60L7QtSDQvdCw0LvQvtCz0L7QstC+0LUg0LfQsNC60L7QvdC+0LTQsNGC0LXQu9GM0YHRgtCy0L4g0L/RgNC10LTRg9GB0LzQsNGC0YDQuNCy0LDQtdGCINGD0L/RgNC+0YnQtdC90L3Ri9C5INC/0L7RgNGP0LTQvtC6INC/0YDQuNC30L3QsNC90LjRjyDQu9C40YYsINC+0YHRg9GJ0LXRgdGC0LLQu9GP0Y7RidC40YUg0L/RgNC+0YTQtdGB0YHQuNC+0L3QsNC70YzQvdGD0Y4g0LTQtdGP0YLQtdC70YzQvdC+0YHRgtGMINC90LAmbmJzcDvQvtGB0YLRgNC+0LLQtSwg0LImbmJzcDvQutCw0YfQtdGB0YLQstC1INC90LDQu9C+0LPQvtCy0YvRhSDRgNC10LfQuNC00LXQvdGC0L7QsiDQmtC40L/RgNCwLi4uXCIsXG4gICAgaWQ6IDYsXG4gICAgbGluazogXCJpbnNpZ2h0cy9raXByLWRseWEtcHJvZmVzc2lvbmFsb3YtcG9jaGVtdS1laHRvLXZ5Z29kbm8uaHRtbFwiLFxuICAgIGltYWdlOlxuICAgICAgXCIuLi8uLi9pbWFnZXMvaW5zaWdodHMva2lwci1kbHlhLXByb2Zlc3Npb25hbG92LXBvY2hlbXUtZWh0by12eWdvZG5vLmpwZWdcIlxuICB9LFxuICB7XG4gICAgdGl0bGU6XG4gICAgICBcItCn0YLQviDRgtCw0LrQvtC1ICZsYXF1bzvQtNC+0LzQuNGG0LjQu9GMJnJhcXVvOyDQuCZuYnNwO9C/0L7Rh9C10LzRgyDQstCw0LbQvdC+INC+Jm5ic3A70L3QtdC8INC/0L7QvNC90LjRgtGMINC/0YDQuCDRgdC80LXQvdC1INC90LDQu9C+0LPQvtCy0L7Qs9C+INGA0LXQt9C40LTQtdC90YLRgdGC0LLQsD9cIixcbiAgICBkZXNjOlxuICAgICAgXCLQn9GA0L7QttC40LLQsNC90LjQtSDQuCZuYnNwO9C90LDQu9C40YfQuNC1INC90LXQtNCy0LjQttC40LzQvtGB0YLQuCDQsiZuYnNwO9GA0LDQt9C90YvRhSDRgdGC0YDQsNC90LDRhSDQv9C+0YfRgtC4INCy0YHQtdCz0LTQsCDQstC70LXQutGD0YIg0LLQvtC30L3QuNC60L3QvtCy0LXQvdC40LUg0LLQvtC/0YDQvtGB0LAg0YHQvNC10L3RiyDQvdCw0LvQvtCz0L7QstC+0LPQviDRgNC10LfQuNC00LXQvdGC0YHRgtCy0LAuINCS0LDQttC90L4g0L/QvtC90LjQvNCw0YLRjCwg0LrQsNC60L7QtSDQs9C+0YHRg9C00LDRgNGB0YLQstC+INCx0YPQtNC10YIg0L7QsdC70LDQs9Cw0YLRjCDQvdCw0LvQvtCz0L7QvCDQtNC+0YXQvtC00Ysg0LvQuNGG0LAg0LImbmJzcDvRgdC70YPRh9Cw0LUsINC10YHQu9C4INGDJm5ic3A70YLQsNC60L7Qs9C+INC70LjRhtCwINC10YHRgtGMINC/0YDQuNCy0Y/Qt9C60LAg0LombmJzcDvQtNCy0YPQvCDQuCZuYnNwO9Cx0L7Qu9C10LUg0Y7RgNC40YHQtNC40LrRhtC40Y/QvC4g0J/RgNC4INGN0YLQvtC8INCy0L7Qv9GA0L7RgSDQtNC+0LzQuNGG0LjQu9GPINC90LUmbmJzcDvQstGB0LXQs9C00LAg0L/QvtC/0LDQtNCw0LXRgiDQsiZuYnNwO9C/0L7Qu9C1INC30YDQtdC90LjRjyDRgdGA0LDQt9GDLiDQp9GC0L4mbmJzcDvQttC1INC/0L7QvdC40LzQsNC10YLRgdGPINC/0L7QtCAmbGFxdW870LTQvtC80LjRhtC40LvQtdC8JnJhcXVvOy4uLlwiLFxuICAgIGlkOiA1LFxuICAgIGxpbms6XG4gICAgICBcImluc2lnaHRzL2NodG8tdGFrb2UtZG9taWNpbC1pLXBvY2hlbXUtdmF6aG5vLW8tbmVtLXBvbW5pdC1wcmktc21lbmUtbmFsb2dvdm9nby1yZXppZGVudHN0dmEuaHRtbFwiLFxuICAgIGltYWdlOlxuICAgICAgXCIuLi8uLi9pbWFnZXMvaW5zaWdodHMvY2h0by10YWtvZS1kb21pY2lsLWktcG9jaGVtdS12YXpobm8tby1uZW0tcG9tbml0LXByaS1zbWVuZS1uYWxvZ292b2dvLXJlemlkZW50c3R2YS5qcGVnXCJcbiAgfSxcbiAge1xuICAgIHRpdGxlOlxuICAgICAgXCLQk9Cw0LzQsdC40YIg0LrQvtGA0L7Qu9C10LLRizog0L/RgNCw0LLQuNC70LAg0LLQu9Cw0LTQtdC90LjRjyDQttC40LvQvtC5INC90LXQtNCy0LjQttC40LzQvtGB0YLRjNGOINCyJm5ic3A70JLQtdC70LjQutC+0LHRgNC40YLQsNC90LjQuFwiLFxuICAgIGRlc2M6XG4gICAgICBcItChJm5ic3A7MjAxNyDQs9C+0LTQsCDQvdCw0LvQvtCz0L7QstC+0LUg0LfQsNC60L7QvdC+0LTQsNGC0LXQu9GM0YHRgtCy0L4g0JLQtdC70LjQutC+0LHRgNC40YLQsNC90LjQuCDRgdGD0YnQtdGB0YLQstC10L3QvdGL0Lwg0L7QsdGA0LDQt9C+0Lwg0LjQt9C80LXQvdC40LvQvtGB0YwuINCd0L7QstC+0LLQstC10LTQtdC90LjRjyDQutC+0YHQvdGD0LvQuNGB0Ywg0YDQsNC30LvQuNGH0L3Ri9GFINC30LDRgNGD0LHQtdC20L3Ri9GFINGB0YLRgNGD0LrRgtGD0YAsINC40YHQv9C+0LvRjNC30YPQtdC80YvRhSDQtNC70Y8g0YbQtdC70LXQuSDQstC70LDQtNC10L3QuNGPINC20LjQu9C+0Lkg0L3QtdC00LLQuNC20LjQvNC+0YHRgtGM0Y4g0LImbmJzcDvQktC10LvQuNC60L7QsdGA0LjRgtCw0L3QuNC4LlwiLFxuICAgIGlkOiA0LFxuICAgIGxpbms6XG4gICAgICBcImluc2lnaHRzL2dhbWJpdC1rb3JvbGV2eS1wcmF2aWxhLXZsYWRlbml5YS16aGlsb2otbmVkdml6aGltb3N0eXUtdi12ZWxpa29icml0YW5paS5odG1sXCIsXG4gICAgaW1hZ2U6XG4gICAgICBcIi4uLy4uL2ltYWdlcy9pbnNpZ2h0cy9nYW1iaXQta29yb2xldnktcHJhdmlsYS12bGFkZW5peWEtemhpbG9qLW5lZHZpemhpbW9zdHl1LXYtdmVsaWtvYnJpdGFuaWkuanBlZ1wiXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogXCLQoNC10L/QsNGC0YDQuNCw0YbQuNGPINC30LDQudC80L7QsiZuYnNwOyZtZGFzaDsg0L4mbmJzcDvRh9C10Lwg0YHQu9C10LTRg9C10YIg0L/QvtC80L3QuNGC0YxcIixcbiAgICBkZXNjOlxuICAgICAgXCLQktCw0LvRjtGC0L3QvtC1INC30LDQutC+0L3QvtC00LDRgtC10LvRjNGB0YLQstC+Jm5ic3A70KDQpCDRgdC+0LTQtdGA0LbQuNGCINGA0Y/QtCDQvtCz0YDQsNC90LjRh9C10L3QuNC5LCDQutC+0YLQvtGA0YvQtSDRh9Cw0YHRgtC+INC30LDQsdGL0LLQsNGO0YIg0L/RgNC4INC+0YTQvtGA0LzQu9C10L3QuNC4INC00L7Qu9Cz0L7QstC+0LPQviDRhNC40L3QsNC90YHQuNGA0L7QstCw0L3QuNGPINGBJm5ic3A70YPRh9Cw0YHRgtC40LXQvCDRhNC40LfQuNGH0LXRgdC60LjRhSDQu9C40YYg0LjQu9C4INC60L7QvNC/0LDQvdC40LkmbmJzcDsmbWRhc2g7INCy0LDQu9GO0YLQvdGL0YUg0YDQtdC30LjQtNC10L3RgtC+0LImbmJzcDvQoNCkLlwiLFxuICAgIGlkOiAzLFxuICAgIGxpbms6IFwiaW5zaWdodHMvcmVwYXRyaWFjaXlhLXpham1vdi1vLWNoZW0tc2xlZHVldC1wb21uaXQuaHRtbFwiLFxuICAgIGltYWdlOlxuICAgICAgXCIuLi8uLi9pbWFnZXMvaW5zaWdodHMvcmVwYXRyaWFjaXlhLXpham1vdi1vLWNoZW0tc2xlZHVldC1wb21uaXQuanBlZ1wiXG4gIH0sXG4gIHtcbiAgICB0aXRsZTpcbiAgICAgIFwi0JrQsNC6INCx0LXQvdC10YTQuNGG0LjQsNGA0YMg0LjQvdC+0YHRgtGA0LDQvdC90L7Qs9C+INCi0YDQsNGB0YLQsCDQv9C+0LvRg9GH0LjRgtGMINC40LzRg9GJ0LXRgdGC0LLQviDQsdC10Lcg0YPQv9C70LDRgtGLINC90LDQu9C+0LPQvtCyXCIsXG4gICAgZGVzYzpcbiAgICAgIFwi0J3QsNC70L7Qs9C+0LLQvtC1INC30LDQutC+0L3QvtC00LDRgtC10LvRjNGB0YLQstC+Jm5ic3A70KDQpCDRgdC+0LTQtdGA0LbQuNGCINC/0L7Qu9C+0LbQtdC90LjQtSDQviZuYnNwO9GC0L7QvCwg0YfRgtC+INC90LXQutC+0YLQvtGA0YvQtSDQtNC+0YXQvtC00YssINC/0L7Qu9GD0YfQtdC90L3Ri9C1INC+0YImbmJzcDvRgdGC0YDRg9C60YLRg9GAINCx0LXQtyDQvtCx0YDQsNC30L7QstCw0L3QuNGPINGO0YDQuNC00LjRh9C10YHQutC+0LPQviDQu9C40YbQsCAo0LImbmJzcDvRgtC+0Lwg0YfQuNGB0LvQtSwg0L7RgiZuYnNwO9Ci0YDQsNGB0YLQsCksINC90LUmbmJzcDvQsdGD0LTRg9GCINC+0LHQu9Cw0LPQsNGC0YzRgdGPINC90LDQu9C+0LPQvtC8INGDJm5ic3A70L/QvtC70YPRh9Cw0YLQtdC70Y8uINCU0LvRjyDRgtC+0LPQviwg0YfRgtC+0LHRiyDRgtCw0LrQvtC1INC/0YDQsNCy0LjQu9C+INC/0YDQuNC80LXQvdGP0LvQvtGB0Ywg0L3QtdC+0LHRhdC+0LTQuNC80L4g0YHQvtCx0LvRjtGB0YLQuCDRgNGP0LQg0YLRgNC10LHQvtCy0LDQvdC40LlcIixcbiAgICBpZDogMixcbiAgICBsaW5rOlxuICAgICAgXCJpbnNpZ2h0cy9rYWstYmVuZWZpY2lhcnUtaW5vc3RyYW5ub2dvLXRyYXN0YS1wb2x1Y2hpdC1pbXVzaGNoZXN0dm8tYmV6LXVwbGF0eS1uYWxvZ292Lmh0bWxcIixcbiAgICBpbWFnZTpcbiAgICAgIFwiLi4vLi4vaW1hZ2VzL2luc2lnaHRzL2thay1iZW5lZmljaWFydS1pbm9zdHJhbm5vZ28tdHJhc3RhLXBvbHVjaGl0LWltdXNoY2hlc3R2by1iZXotdXBsYXR5LW5hbG9nb3YuanBlZ1wiXG4gIH0sXG4gIHtcbiAgICB0aXRsZTpcbiAgICAgIFwi0J3QsNC70L7Qs9C+0LLRi9C1INC/0YDQtdC40LzRg9GJ0LXRgdGC0LLQsCDQstC70LDQtNC10L3QuNGPINGG0LXQvdC90YvQvNC4INCx0YPQvNCw0LPQsNC80Lgg0YfQtdGA0LXQtyDQutC+0L3RgtGA0L7Qu9C40YDRg9C10LzRg9GOINC40L3QvtGB0YLRgNCw0L3QvdGD0Y4g0LrQvtC80L/QsNC90LjRjiAo0JrQmNCaKVwiLFxuICAgIGRlc2M6XG4gICAgICBcItCSJm5ic3A70YHQstGP0LfQuCDRgdC+Jm5ic3A70LfQvdCw0YfQuNGC0LXQu9GM0L3Ri9C8INC60L7Qu9C10LHQsNC90LjQtdC8INC60YPRgNGB0LAg0YDRg9Cx0LvRjywg0LrQsNC20LTRi9C5INC/0YDQtdC00YPRgdC80L7RgtGA0LjRgtC10LvRjNC90YvQuSDQuNC90LLQtdGB0YLQvtGAJm5ic3A7Jm1kYXNoOyDQvdCw0LvQvtCz0L7QstGL0Lkg0YDQtdC30LjQtNC10L3RgiDQoNC+0YHRgdC40LnRgdC60L7QuSDQpNC10LTQtdGA0LDRhtC40Lgg0LfQsNC00YPQvNGL0LLQsNC70YHRjyDQviZuYnNwO9Cy0L7Qt9C80L7QttC90L7RgdGC0Lgg0L7QsdC10LfQvtC/0LDRgdC40YLRjCDRgdCy0L7QuCDQuNC90LLQtdGB0YLQuNGG0LjQuCDQsiZuYnNwO9C30LDRgNGD0LHQtdC20L3Ri9C1INCw0LrRgtC40LLRiywg0LImbmJzcDvRgtC+0Lwg0YfQuNGB0LvQtSwg0LImbmJzcDvRhtC10L3QvdGL0LUg0LHRg9C80LDQs9C4LlwiLFxuICAgIGlkOiAxLFxuICAgIGxpbms6XG4gICAgICBcImluc2lnaHRzL25hbG9nb3Z5ZS1wcmVpbXVzaGNoZXN0dmEtdmxhZGVuaXlhLWNlbm55bWktYnVtYWdhbWktY2hlcmV6LWtvbnRyb2xpcnVlbXV5dS1pbm9zdHJhbm51eXUta29tcGFuaXl1LWtpay5odG1sXCIsXG4gICAgaW1hZ2U6XG4gICAgICBcIi4uLy4uL2ltYWdlcy9pbnNpZ2h0cy9uYWxvZ292eWUtcHJlaW11c2hjaGVzdHZhLXZsYWRlbml5YS1jZW5ueW1pLWJ1bWFnYW1pLWNoZXJlei1rb250cm9saXJ1ZW11eXUtaW5vc3RyYW5udXl1LWtvbXBhbml5dS1raWsuanBlZ1wiXG4gIH1cbl07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5zaWdodHMtcGFnZVwiKSA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gIGxldCBvcHRpb25zID0ge1xuICAgIHBhZ2U6IDYsXG4gICAgdmFsdWVOYW1lczogW1xuICAgICAgXCJ0aXRsZVwiLFxuICAgICAgXCJkZXNjXCIsXG4gICAgICB7IGRhdGE6IFtcImlkXCJdIH0sXG4gICAgICB7IG5hbWU6IFwibGlua1wiLCBhdHRyOiBcImhyZWZcIiB9LFxuICAgICAgeyBuYW1lOiBcImltYWdlXCIsIGF0dHI6IFwic3JjXCIgfVxuICAgIF0sXG4gICAgaXRlbTogYDxsaSBkYXRhLWlkPVwiMVwiPlxuICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9XCJpbnNpZ2h0XCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJcIiBjbGFzcz1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICA8ZmlndXJlPlxuICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImluc2lnaHRfX2ltYWdlIGltYWdlXCIgc3JjPVwiXCIgbG9hZGluZz1cImxhenlcIi8+XG4gICAgICAgICAgICAgICAgPC9maWd1cmU+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwiaW5zaWdodF9fdGl0bGUgdGl0bGVcIj48L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiaW5zaWdodF9fZGVzYyBkZXNjXCI+PC9wPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgPC9saT5gLFxuICAgIHBhZ2luYXRpb246IFtcbiAgICAgIHtcbiAgICAgICAgcGFnaW5hdGlvbkNsYXNzOiBcImluc2lnaHRzLXBhZ2luYXRpb25cIlxuICAgICAgfVxuICAgIF1cbiAgfTtcblxuICBsZXQgaW5zaWdodHNMaXN0ID0gbmV3IExpc3QoXCJpbnNpZ2h0cy1saXN0XCIsIG9wdGlvbnMsIGluc2lnaHRzTGlzdFZhbHVlc1J1KTtcbn0pO1xuXG5jb25zdCBIT1ZFUl9DTEFTUyA9IFwiaXMtaG92ZXJlZFwiO1xuY29uc3QgTUVOVV9TSE9XX0NMQVNTID0gXCJtZW51X19zZWNvbmRhcnktbGlzdC0tc2hvd1wiO1xuY29uc3QgTElOS19BQ1RJVkVfQ0xBU1MgPSBcImxpbmtfX2Fycm93LS1hY3RpdmVcIjtcbmNvbnN0IExJTktfQ1VSUkVOVF9DTEFTUyA9IFwiaXMtY3VycmVudFwiO1xuXG5jb25zdCByZXNldEFjdGl2ZVN0eWxlcyA9ICgpID0+IHtcbiAgY29uc3QgYWN0aXZlQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtNRU5VX1NIT1dfQ0xBU1N9YCk7XG4gIGNvbnN0IGFjdGl2ZUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtMSU5LX0FDVElWRV9DTEFTU31gKTtcbiAgY29uc3QgY3VycmVudExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtMSU5LX0NVUlJFTlRfQ0xBU1N9YCk7XG5cbiAgYWN0aXZlQmxvY2sgJiYgYWN0aXZlQmxvY2suY2xhc3NMaXN0LnJlbW92ZShNRU5VX1NIT1dfQ0xBU1MpO1xuICBhY3RpdmVMaW5rICYmIGFjdGl2ZUxpbmsuY2xhc3NMaXN0LnJlbW92ZShMSU5LX0FDVElWRV9DTEFTUyk7XG4gIGN1cnJlbnRMaW5rICYmIGN1cnJlbnRMaW5rLmNsYXNzTGlzdC5yZW1vdmUoTElOS19DVVJSRU5UX0NMQVNTKTtcbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgY29uc3QgcGFnZSA9IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyLW1lbnVcIik7XG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVcIik7XG4gIGNvbnN0IGxvZ29IZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlciAuaGVhZGVyX19saW5rXCIpO1xuXG4gIGNvbnN0IGNoZWNrU2l6ZXMgPSAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPiA2OTkpIHtcbiAgICAgIGRlc2t0b3BNZW51T3BlbmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vYmlsZU1lbnVPcGVuZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlTWVudSA9ICgpID0+IHtcbiAgICBidXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImJ1cmdlci1tZW51LS1hY3RpdmVcIik7XG4gICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwibWVudS0tYWN0aXZlXCIpO1xuICAgIGlmIChtZW51LmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnUtLWFjdGl2ZVwiKSkge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpcy1tZW51LW9wZW5lZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1tZW51LW9wZW5lZFwiKTtcbiAgICB9XG4gICAgaWYgKCFtZW51LmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnUtLWFjdGl2ZVwiKSkge1xuICAgICAgcmVzZXRBY3RpdmVTdHlsZXMoKTtcbiAgICAgIGhhbmRsZUN1cnJlbnRQYWdlKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGtleWRvd25IYW5kbGVyID0gZSA9PiB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gMzIgfHwgZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdG9nZ2xlTWVudSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcmltYXJ5TGlua3MgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5qcy1tZW51LXByaW1hcnktbGlua1wiKV07XG4gIGNvbnN0IGxpbmtzTGlzdEFycmF5ID0gW1xuICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2Vjb25kYXJ5LWxpc3RfX2l0ZW1cIilcbiAgXTtcblxuICBjb25zdCBsaW5rSGFuZGxlciA9IGxpbmsgPT4ge1xuICAgIGNvbnN0IGFjdGl2ZUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpbmtfX2Fycm93LS1hY3RpdmVcIik7XG4gICAgY29uc3QgYWN0aXZlQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtNRU5VX1NIT1dfQ0xBU1N9YCk7XG4gICAgY29uc3QgcGFyZW50TGlzdCA9IGxpbmsucGFyZW50Tm9kZTtcblxuICAgIGFjdGl2ZUxpbmsgJiYgYWN0aXZlTGluay5jbGFzc0xpc3QucmVtb3ZlKExJTktfQUNUSVZFX0NMQVNTKTtcbiAgICBsaW5rLnF1ZXJ5U2VsZWN0b3IoXCIubGlua19fYXJyb3dcIikuY2xhc3NMaXN0LmFkZChMSU5LX0FDVElWRV9DTEFTUyk7XG5cbiAgICBhY3RpdmVCbG9jayAmJiBhY3RpdmVCbG9jay5jbGFzc0xpc3QucmVtb3ZlKE1FTlVfU0hPV19DTEFTUyk7XG5cbiAgICBsaW5rc0xpc3RBcnJheS5tYXAoaXRlbSA9PiB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoSE9WRVJfQ0xBU1MpO1xuICAgIH0pO1xuXG4gICAgcGFyZW50TGlzdC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX3NlY29uZGFyeS1saXN0XCIpICYmXG4gICAgICBwYXJlbnRMaXN0XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX3NlY29uZGFyeS1saXN0XCIpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKE1FTlVfU0hPV19DTEFTUyk7XG5cbiAgICBbLi4ucGFyZW50TGlzdC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlY29uZGFyeS1saXN0X19pdGVtXCIpXVswXS5jbGFzc0xpc3QuYWRkKFxuICAgICAgXCJpcy1ob3ZlcmVkXCJcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHNldFZpc2libGVNZW51QnlQcmltYXJ5QmxvY2sgPSBzZWxlY3RvciA9PiB7XG4gICAgbGV0IHByaW1hcnlCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIHByaW1hcnlCbG9ja1xuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuc2Vjb25kYXJ5LWxpc3RcIilcbiAgICAgIC5jbGFzc0xpc3QuYWRkKE1FTlVfU0hPV19DTEFTUyk7XG4gICAgcHJpbWFyeUJsb2NrXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5zZWNvbmRhcnktbGlzdF9faXRlbVwiKVxuICAgICAgLmNsYXNzTGlzdC5hZGQoSE9WRVJfQ0xBU1MpO1xuICAgIHByaW1hcnlCbG9jay5xdWVyeVNlbGVjdG9yKFwiLmxpbmtfX2Fycm93XCIpLmNsYXNzTGlzdC5hZGQoTElOS19BQ1RJVkVfQ0xBU1MpO1xuICB9O1xuXG4gIGNvbnN0IGNoZWNrUHJpbWFyeUxpbmsgPSAoY2hlY2tMaW5rLCBzZWxlY3RvcikgPT4ge1xuICAgIGxldCBwYWdlTGluayA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXG4gICAgaWYgKCFwYWdlTGluay5pbmNsdWRlcyhjaGVja0xpbmspKSByZXR1cm47XG5cbiAgICBzZXRWaXNpYmxlTWVudUJ5UHJpbWFyeUJsb2NrKHNlbGVjdG9yKTtcbiAgICByZXR1cm47XG4gIH07XG5cbiAgY29uc3QgbW92ZUFycm93ID0gKHRhcmdldEVsLCBhcnJvdywgbGVmdE9mZnNldCA9IDApID0+IHtcbiAgICBpZiAodGFyZ2V0RWwgPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0b3BQb3NpdGlvbiA9IHRhcmdldEVsLm9mZnNldFRvcCArIHRhcmdldEVsLm9mZnNldEhlaWdodCAvIDIgKyBcInB4XCI7XG4gICAgYXJyb3cuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYHRvcDogJHt0b3BQb3NpdGlvbn07IGxlZnQ6ICR7bGVmdE9mZnNldH1gKTtcbiAgfTtcblxuICBjb25zdCBsaW5rc0xpc3RIYW5kbGVyID0gZSA9PiB7XG4gICAgbGlua3NMaXN0QXJyYXkubWFwKGl0ZW0gPT4ge1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKEhPVkVSX0NMQVNTKTtcbiAgICB9KTtcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKEhPVkVSX0NMQVNTKTtcbiAgICBlLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGV2ZW50ID0+IHtcbiAgICAgIGxldCBlbCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGxldCBsaW5rLCBvZmZzZXQ7XG4gICAgICBpZiAoZWwuY2xvc2VzdChcIi5tZW51X190ZXJ0aWFyeS1saW5rXCIpKSB7XG4gICAgICAgIGxpbmsgPSBlbC5jbG9zZXN0KFwiLm1lbnVfX3RlcnRpYXJ5LWxpbmtcIik7XG4gICAgICAgIG9mZnNldCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoZWwuY2xvc2VzdChcIi5tZW51X19xdWF0ZXJuYXJ5LWxpbmtcIikpIHtcbiAgICAgICAgbGluayA9IGVsLmNsb3Nlc3QoXCIubWVudV9fcXVhdGVybmFyeS1saW5rXCIpO1xuICAgICAgICBvZmZzZXQgPSBcIjYlXCI7XG4gICAgICB9XG4gICAgICBtb3ZlQXJyb3cobGluaywgZS50YXJnZXQucXVlcnlTZWxlY3RvcihcIi5tZW51X19hcnJvd1wiKSwgb2Zmc2V0KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDdXJyZW50UGFnZSA9ICgpID0+IHtcbiAgICBsZXQgcGFnZUxpbmsgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgY3VycmVudFBhZ2VMaW5rO1xuXG4gICAgaWYgKHBhZ2VMaW5rLmluY2x1ZGVzKFwiaW5zaWdodHNcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXBhZ2VMaW5rLmluY2x1ZGVzKFwicGFnZXMvXCIpKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJob21lLXBhZ2VcIikpIHtcbiAgICAgICAgc2V0VmlzaWJsZU1lbnVCeVByaW1hcnlCbG9jayhcIi5qcy1ob21lLXBhZ2UtbGlua1wiKTtcbiAgICAgIH1cbiAgICAgIGNoZWNrUHJpbWFyeUxpbmsoXCJjb250YWN0cy5odG1sXCIsIFwiLmpzLWNvbnRhY3RzLWxpbmtcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFwYWdlTGluay5pbmNsdWRlcyhcInJ1L1wiKSkge1xuICAgICAgLy8gZ2V0IDR0aCBzdHJpbmcgLSBpdCdzIGN1cnJlbnQgaHRtbCBwYWdlIG9uIEVOIHNpdGVcbiAgICAgIGN1cnJlbnRQYWdlTGluayA9IHBhZ2VMaW5rLnNwbGl0KFwiL1wiKVs0XTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFBhZ2VMaW5rID0gcGFnZUxpbmsuc3BsaXQoXCIvXCIpWzVdO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBhZ2VMaW5rICYmIGN1cnJlbnRQYWdlTGluay5pbmNsdWRlcyhcIiNcIikpIHtcbiAgICAgIGN1cnJlbnRQYWdlTGluayA9IGN1cnJlbnRQYWdlTGluay5zcGxpdChcIiNcIilbMF07XG4gICAgfVxuXG4gICAgaWYgKG1lbnUucXVlcnlTZWxlY3RvckFsbChgW2hyZWYqPScke2N1cnJlbnRQYWdlTGlua30nXWApID09PSBudWxsKSByZXR1cm47XG5cbiAgICBsZXQgY3VycmVudExpbmsgPSBbXG4gICAgICAuLi5tZW51LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgIGAubWVudV9fdGVydGlhcnktbGlua1tocmVmKj0nJHtjdXJyZW50UGFnZUxpbmt9J11gXG4gICAgICApXG4gICAgXVswXTtcbiAgICBsZXQgbGlua0NvbnRhaW5lciA9IGN1cnJlbnRMaW5rLmNsb3Nlc3QoXCIuc2Vjb25kYXJ5LWxpc3RfX2l0ZW1cIik7XG5cbiAgICBjdXJyZW50TGluay5jbGFzc0xpc3QuYWRkKFwiaXMtY3VycmVudFwiKTtcbiAgICBjdXJyZW50TGluay5jbG9zZXN0KFwiLnNlY29uZGFyeS1saXN0XCIpLmNsYXNzTGlzdC5hZGQoTUVOVV9TSE9XX0NMQVNTKTtcblxuICAgIGN1cnJlbnRMaW5rXG4gICAgICAuY2xvc2VzdChcIi5wcmltYXJ5LWxpc3RfX2l0ZW1cIilcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX3ByaW1hcnktbGluayAubGlua19fYXJyb3dcIilcbiAgICAgIC5jbGFzc0xpc3QuYWRkKExJTktfQUNUSVZFX0NMQVNTKTtcblxuICAgIGxpbmtDb250YWluZXIuY2xhc3NMaXN0LmFkZChIT1ZFUl9DTEFTUyk7XG5cbiAgICBtb3ZlQXJyb3coY3VycmVudExpbmssIGxpbmtDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tZW51X19hcnJvd1wiKSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVza3RvcE1lbnVPcGVuZXIoKSB7XG4gICAgaGFuZGxlQ3VycmVudFBhZ2UoKTtcblxuICAgIHByaW1hcnlMaW5rcy5mb3JFYWNoKGxpbmsgPT5cbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiBsaW5rSGFuZGxlcihsaW5rKSlcbiAgICApO1xuICAgIGxpbmtzTGlzdEFycmF5LmZvckVhY2gobGlua3NMaXN0ID0+IHtcbiAgICAgIGxpbmtzTGlzdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBsaW5rc0xpc3RIYW5kbGVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vYmlsZU1lbnVPcGVuZXIoKSB7XG4gICAgbGV0IG1lbnVBY2MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtbWVudS1wcmltYXJ5LWxpbmtcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVBY2MubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1lbnVBY2NbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICBsZXQgcGFuZWwgPSB0aGlzLm5leHRFbGVtZW50U2libGluZztcblxuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdmlzaWJsZVwiKTtcbiAgICAgICAgaWYgKHBhbmVsLnN0eWxlLmhlaWdodCkge1xuICAgICAgICAgIHBhbmVsLnN0eWxlLmhlaWdodCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFuZWwuc3R5bGUuaGVpZ2h0ID0gcGFuZWwuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lbnVBY2MyID0gcGFuZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNlY29uZGFyeS1saXN0X19pdGVtXCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVBY2MyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWVudUFjYzJbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubWVudV9fc2Vjb25kYXJ5LWxpbmtcIikgPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgICAgICBsZXQgcGFuZWwyID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX3RlcnRpYXJ5LWxpc3RcIik7XG5cbiAgICAgICAgICAgIHBhbmVsMi5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdmlzaWJsZVwiKTtcbiAgICAgICAgICAgIGlmIChwYW5lbDIuc3R5bGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgIHBhbmVsLnN0eWxlLmhlaWdodCA9XG4gICAgICAgICAgICAgICAgcGFuZWwuc2Nyb2xsSGVpZ2h0IC0gcGFuZWwyLnNjcm9sbEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgICAgcGFuZWwyLnN0eWxlLmhlaWdodCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYW5lbC5zdHlsZS5oZWlnaHQgPVxuICAgICAgICAgICAgICAgIHBhbmVsLnNjcm9sbEhlaWdodCArIHBhbmVsMi5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICAgIHBhbmVsMi5zdHlsZS5oZWlnaHQgPSBwYW5lbDIuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjaGVja1NpemVzKCk7XG5cbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVNZW51KTtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleWRvd25IYW5kbGVyKTtcblxuICBtZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcbiAgICBpZiAoIWUudGFyZ2V0LmhyZWYpIHJldHVybjtcbiAgICBpZiAoXG4gICAgICAhd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCIjXCIpWzBdLmluY2x1ZGVzKGUudGFyZ2V0LmhyZWYuc3BsaXQoXCIjXCIpWzBdKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImJ1cmdlci1tZW51LS1hY3RpdmVcIik7XG4gICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKFwibWVudS0tYWN0aXZlXCIpO1xuICAgIHJlc2V0QWN0aXZlU3R5bGVzKCk7XG4gICAgaGFuZGxlQ3VycmVudFBhZ2UoKTtcbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgIHJlc2V0QWN0aXZlU3R5bGVzKCk7XG4gICAgaGFuZGxlQ3VycmVudFBhZ2UoKTtcbiAgICBjaGVja1NpemVzKCk7XG4gIH0pO1xufSk7XG5cbi8qISBtb2Rlcm5penIgMy42LjAgKEN1c3RvbSBCdWlsZCkgfCBNSVQgKlxuICogaHR0cHM6Ly9tb2Rlcm5penIuY29tL2Rvd25sb2FkLz8td2VicC1zZXRjbGFzc2VzICEqL1xuIShmdW5jdGlvbihlLCBuLCBBKSB7XG4gIGZ1bmN0aW9uIG8oZSwgbikge1xuICAgIHJldHVybiB0eXBlb2YgZSA9PT0gbjtcbiAgfVxuICBmdW5jdGlvbiB0KCkge1xuICAgIHZhciBlLCBuLCBBLCB0LCBhLCBpLCBsO1xuICAgIGZvciAodmFyIGYgaW4gcilcbiAgICAgIGlmIChyLmhhc093blByb3BlcnR5KGYpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGUgPSBbXSksXG4gICAgICAgICAgKG4gPSByW2ZdKSxcbiAgICAgICAgICBuLm5hbWUgJiZcbiAgICAgICAgICAgIChlLnB1c2gobi5uYW1lLnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAgICAgbi5vcHRpb25zICYmIG4ub3B0aW9ucy5hbGlhc2VzICYmIG4ub3B0aW9ucy5hbGlhc2VzLmxlbmd0aCkpXG4gICAgICAgIClcbiAgICAgICAgICBmb3IgKEEgPSAwOyBBIDwgbi5vcHRpb25zLmFsaWFzZXMubGVuZ3RoOyBBKyspXG4gICAgICAgICAgICBlLnB1c2gobi5vcHRpb25zLmFsaWFzZXNbQV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGZvciAodCA9IG8obi5mbiwgXCJmdW5jdGlvblwiKSA/IG4uZm4oKSA6IG4uZm4sIGEgPSAwOyBhIDwgZS5sZW5ndGg7IGErKylcbiAgICAgICAgICAoaSA9IGVbYV0pLFxuICAgICAgICAgICAgKGwgPSBpLnNwbGl0KFwiLlwiKSksXG4gICAgICAgICAgICAxID09PSBsLmxlbmd0aFxuICAgICAgICAgICAgICA/IChNb2Rlcm5penJbbFswXV0gPSB0KVxuICAgICAgICAgICAgICA6ICghTW9kZXJuaXpyW2xbMF1dIHx8XG4gICAgICAgICAgICAgICAgICBNb2Rlcm5penJbbFswXV0gaW5zdGFuY2VvZiBCb29sZWFuIHx8XG4gICAgICAgICAgICAgICAgICAoTW9kZXJuaXpyW2xbMF1dID0gbmV3IEJvb2xlYW4oTW9kZXJuaXpyW2xbMF1dKSksXG4gICAgICAgICAgICAgICAgKE1vZGVybml6cltsWzBdXVtsWzFdXSA9IHQpKSxcbiAgICAgICAgICAgIHMucHVzaCgodCA/IFwiXCIgOiBcIm5vLVwiKSArIGwuam9pbihcIi1cIikpO1xuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIGEoZSkge1xuICAgIHZhciBuID0gdS5jbGFzc05hbWUsXG4gICAgICBBID0gTW9kZXJuaXpyLl9jb25maWcuY2xhc3NQcmVmaXggfHwgXCJcIjtcbiAgICBpZiAoKGMgJiYgKG4gPSBuLmJhc2VWYWwpLCBNb2Rlcm5penIuX2NvbmZpZy5lbmFibGVKU0NsYXNzKSkge1xuICAgICAgdmFyIG8gPSBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBBICsgXCJuby1qcyhcXFxcc3wkKVwiKTtcbiAgICAgIG4gPSBuLnJlcGxhY2UobywgXCIkMVwiICsgQSArIFwianMkMlwiKTtcbiAgICB9XG4gICAgTW9kZXJuaXpyLl9jb25maWcuZW5hYmxlQ2xhc3NlcyAmJlxuICAgICAgKChuICs9IFwiIFwiICsgQSArIGUuam9pbihcIiBcIiArIEEpKSxcbiAgICAgIGMgPyAodS5jbGFzc05hbWUuYmFzZVZhbCA9IG4pIDogKHUuY2xhc3NOYW1lID0gbikpO1xuICB9XG4gIGZ1bmN0aW9uIGkoZSwgbikge1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlKSBmb3IgKHZhciBBIGluIGUpIGYoZSwgQSkgJiYgaShBLCBlW0FdKTtcbiAgICBlbHNlIHtcbiAgICAgIGUgPSBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgbyA9IGUuc3BsaXQoXCIuXCIpLFxuICAgICAgICB0ID0gTW9kZXJuaXpyW29bMF1dO1xuICAgICAgaWYgKCgyID09IG8ubGVuZ3RoICYmICh0ID0gdFtvWzFdXSksIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHQpKVxuICAgICAgICByZXR1cm4gTW9kZXJuaXpyO1xuICAgICAgKG4gPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4gPyBuKCkgOiBuKSxcbiAgICAgICAgMSA9PSBvLmxlbmd0aFxuICAgICAgICAgID8gKE1vZGVybml6cltvWzBdXSA9IG4pXG4gICAgICAgICAgOiAoIU1vZGVybml6cltvWzBdXSB8fFxuICAgICAgICAgICAgICBNb2Rlcm5penJbb1swXV0gaW5zdGFuY2VvZiBCb29sZWFuIHx8XG4gICAgICAgICAgICAgIChNb2Rlcm5penJbb1swXV0gPSBuZXcgQm9vbGVhbihNb2Rlcm5penJbb1swXV0pKSxcbiAgICAgICAgICAgIChNb2Rlcm5penJbb1swXV1bb1sxXV0gPSBuKSksXG4gICAgICAgIGEoWyhuICYmIDAgIT0gbiA/IFwiXCIgOiBcIm5vLVwiKSArIG8uam9pbihcIi1cIildKSxcbiAgICAgICAgTW9kZXJuaXpyLl90cmlnZ2VyKGUsIG4pO1xuICAgIH1cbiAgICByZXR1cm4gTW9kZXJuaXpyO1xuICB9XG4gIHZhciBzID0gW10sXG4gICAgciA9IFtdLFxuICAgIGwgPSB7XG4gICAgICBfdmVyc2lvbjogXCIzLjYuMFwiLFxuICAgICAgX2NvbmZpZzoge1xuICAgICAgICBjbGFzc1ByZWZpeDogXCJcIixcbiAgICAgICAgZW5hYmxlQ2xhc3NlczogITAsXG4gICAgICAgIGVuYWJsZUpTQ2xhc3M6ICEwLFxuICAgICAgICB1c2VQcmVmaXhlczogITBcbiAgICAgIH0sXG4gICAgICBfcTogW10sXG4gICAgICBvbjogZnVuY3Rpb24oZSwgbikge1xuICAgICAgICB2YXIgQSA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbihBW2VdKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9LFxuICAgICAgYWRkVGVzdDogZnVuY3Rpb24oZSwgbiwgQSkge1xuICAgICAgICByLnB1c2goeyBuYW1lOiBlLCBmbjogbiwgb3B0aW9uczogQSB9KTtcbiAgICAgIH0sXG4gICAgICBhZGRBc3luY1Rlc3Q6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgci5wdXNoKHsgbmFtZTogbnVsbCwgZm46IGUgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBNb2Rlcm5penIgPSBmdW5jdGlvbigpIHt9O1xuICAoTW9kZXJuaXpyLnByb3RvdHlwZSA9IGwpLCAoTW9kZXJuaXpyID0gbmV3IE1vZGVybml6cigpKTtcbiAgdmFyIGYsXG4gICAgdSA9IG4uZG9jdW1lbnRFbGVtZW50LFxuICAgIGMgPSBcInN2Z1wiID09PSB1Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICEoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGUgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICBmID1cbiAgICAgIG8oZSwgXCJ1bmRlZmluZWRcIikgfHwgbyhlLmNhbGwsIFwidW5kZWZpbmVkXCIpXG4gICAgICAgID8gZnVuY3Rpb24oZSwgbikge1xuICAgICAgICAgICAgcmV0dXJuIG4gaW4gZSAmJiBvKGUuY29uc3RydWN0b3IucHJvdG90eXBlW25dLCBcInVuZGVmaW5lZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIDogZnVuY3Rpb24obiwgQSkge1xuICAgICAgICAgICAgcmV0dXJuIGUuY2FsbChuLCBBKTtcbiAgICAgICAgICB9O1xuICB9KSgpLFxuICAgIChsLl9sID0ge30pLFxuICAgIChsLm9uID0gZnVuY3Rpb24oZSwgbikge1xuICAgICAgdGhpcy5fbFtlXSB8fCAodGhpcy5fbFtlXSA9IFtdKSxcbiAgICAgICAgdGhpcy5fbFtlXS5wdXNoKG4pLFxuICAgICAgICBNb2Rlcm5penIuaGFzT3duUHJvcGVydHkoZSkgJiZcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgTW9kZXJuaXpyLl90cmlnZ2VyKGUsIE1vZGVybml6cltlXSk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgfSksXG4gICAgKGwuX3RyaWdnZXIgPSBmdW5jdGlvbihlLCBuKSB7XG4gICAgICBpZiAodGhpcy5fbFtlXSkge1xuICAgICAgICB2YXIgQSA9IHRoaXMuX2xbZV07XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGUsIG87XG4gICAgICAgICAgZm9yIChlID0gMDsgZSA8IEEubGVuZ3RoOyBlKyspIChvID0gQVtlXSkobik7XG4gICAgICAgIH0sIDApLFxuICAgICAgICAgIGRlbGV0ZSB0aGlzLl9sW2VdO1xuICAgICAgfVxuICAgIH0pLFxuICAgIE1vZGVybml6ci5fcS5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgbC5hZGRUZXN0ID0gaTtcbiAgICB9KSxcbiAgICBNb2Rlcm5penIuYWRkQXN5bmNUZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gZShlLCBuLCBBKSB7XG4gICAgICAgIGZ1bmN0aW9uIG8obikge1xuICAgICAgICAgIHZhciBvID0gbiAmJiBcImxvYWRcIiA9PT0gbi50eXBlID8gMSA9PSB0LndpZHRoIDogITEsXG4gICAgICAgICAgICBhID0gXCJ3ZWJwXCIgPT09IGU7XG4gICAgICAgICAgaShlLCBhICYmIG8gPyBuZXcgQm9vbGVhbihvKSA6IG8pLCBBICYmIEEobik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgKHQub25lcnJvciA9IG8pLCAodC5vbmxvYWQgPSBvKSwgKHQuc3JjID0gbik7XG4gICAgICB9XG4gICAgICB2YXIgbiA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1cmk6XG4gICAgICAgICAgICAgIFwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmlRQUFBQlhSVUpRVmxBNElCZ0FBQUF3QVFDZEFTb0JBQUVBQXdBMEphUUFBM0FBL3Z1VUFBQT1cIixcbiAgICAgICAgICAgIG5hbWU6IFwid2VicFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1cmk6XG4gICAgICAgICAgICAgIFwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmtvQUFBQlhSVUpRVmxBNFdBb0FBQUFRQUFBQUFBQUFBQUFBUVV4UVNBd0FBQUFCQnhBUi9ROUVSUDhEQUFCV1VEZ2dHQUFBQURBQkFKMEJLZ0VBQVFBREFEUWxwQUFEY0FEKysvMVFBQT09XCIsXG4gICAgICAgICAgICBuYW1lOiBcIndlYnAuYWxwaGFcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXJpOlxuICAgICAgICAgICAgICBcImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JsSUFBQUJYUlVKUVZsQTRXQW9BQUFBU0FBQUFBQUFBQUFBQVFVNUpUUVlBQUFELy8vLy9BQUJCVGsxR0pnQUFBQUFBQUFBQUFBQUFBQUFBQUdRQUFBQldVRGhNRFFBQUFDOEFBQUFRQnhBUkVZaUkvZ2NBXCIsXG4gICAgICAgICAgICBuYW1lOiBcIndlYnAuYW5pbWF0aW9uXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVyaTpcbiAgICAgICAgICAgICAgXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBQUFBQUFmUS8vNzN2LytCaU9oL0FBQT1cIixcbiAgICAgICAgICAgIG5hbWU6IFwid2VicC5sb3NzbGVzc1wiXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBBID0gbi5zaGlmdCgpO1xuICAgICAgZShBLm5hbWUsIEEudXJpLCBmdW5jdGlvbihBKSB7XG4gICAgICAgIGlmIChBICYmIFwibG9hZFwiID09PSBBLnR5cGUpXG4gICAgICAgICAgZm9yICh2YXIgbyA9IDA7IG8gPCBuLmxlbmd0aDsgbysrKSBlKG5bb10ubmFtZSwgbltvXS51cmkpO1xuICAgICAgfSk7XG4gICAgfSksXG4gICAgdCgpLFxuICAgIGEocyksXG4gICAgZGVsZXRlIGwuYWRkVGVzdCxcbiAgICBkZWxldGUgbC5hZGRBc3luY1Rlc3Q7XG4gIGZvciAodmFyIHAgPSAwOyBwIDwgTW9kZXJuaXpyLl9xLmxlbmd0aDsgcCsrKSBNb2Rlcm5penIuX3FbcF0oKTtcbiAgZS5Nb2Rlcm5penIgPSBNb2Rlcm5penI7XG59KSh3aW5kb3csIGRvY3VtZW50KTtcblxuY29uc3QgY2hhbmdlRWxlbWVudHNUaGVtZSA9IChzZWxlY3RvciA9PiB7XG4gIGxldCBvYnNlcnZlckFycmF5ID0gW107XG4gIHJldHVybiB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICBBcnJheS5mcm9tKFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtdGhlbWUtb2JzZXJ2ZXItbWFyZ2luXVwiKVxuICAgICAgKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBjb25zdCBpb09iamVjdCA9IChmdW5jdGlvbihpLCBvYnNlcnZlck1hcmdpbikge1xuICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICBlbnRyaWVzID0+IHtcbiAgICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRhcmdldCwgaXNJbnRlcnNlY3RpbmcgfSA9IGVudHJ5O1xuICAgICAgICAgICAgICAgIGlzSW50ZXJzZWN0aW5nICYmXG4gICAgICAgICAgICAgICAgICAodGFyZ2V0LmRhdGFzZXQudGhlbWUgPT09IFwiZGFya1wiXG4gICAgICAgICAgICAgICAgICAgID8gaS5jbGFzc0xpc3QuYWRkKFwiZGFyay10aGVtZVwiKVxuICAgICAgICAgICAgICAgICAgICA6IGkuY2xhc3NMaXN0LnJlbW92ZShcImRhcmstdGhlbWVcIikpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvb3RNYXJnaW46IG9ic2VydmVyTWFyZ2luXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSkoaXRlbSwgaXRlbS5kYXRhc2V0LnRoZW1lT2JzZXJ2ZXJNYXJnaW4pO1xuICAgICAgICBvYnNlcnZlckFycmF5LnB1c2goaW9PYmplY3QpO1xuICAgICAgfSksXG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgb2JzZXJ2ZXJBcnJheS5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgdC5vYnNlcnZlKGl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgb2JzZXJ2ZXJBcnJheS5mb3JFYWNoKGkgPT4gaS5kaXNjb25uZWN0KCkpLFxuICAgICAgICAodCA9IFtdKSxcbiAgICAgICAgQXJyYXkuZnJvbShcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtdGhlbWUtb2JzZXJ2ZXItbWFyZ2luXVwiKVxuICAgICAgICApLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgaS5jbGFzc0xpc3QucmVtb3ZlKFwiZGFyay10aGVtZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xufSkoXCJbZGF0YS1zZWN0aW9uXVwiKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3MtY29udGVudFwiKTtcbiAgY29uc3Qgc2Nyb2xsQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zcy1zY3JvbGxcIik7XG4gIGNvbnN0IHNlY3Rpb25zQXJyYXkgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXNlY3Rpb25dXCIpXTtcbiAgbGV0IHNjcm9sbEJhclRodW1iQmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgbGV0IHNjcm9sbEJhclRodW1iID0gc2Nyb2xsQmFyLmNsb25lTm9kZSh0cnVlKTtcblxuICBzY3JvbGxCYXJUaHVtYkJnLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGwtYmFyLWJhY2tncm91bmRcIik7XG4gIHNjcm9sbEJhclRodW1iLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGxiYXItdGh1bWJcIiwgXCJkYXJrLXRoZW1lXCIpO1xuICBzY3JvbGxCYXJUaHVtYi5kYXRhc2V0LnRoZW1lT2JzZXJ2ZXJNYXJnaW4gPSBcIi01NSUgMCUgLTQ1JSAwJVwiO1xuXG4gIHNlY3Rpb25zQXJyYXkubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgaXRlbS5hcHBlbmRDaGlsZChzY3JvbGxCYXJUaHVtYkJnLmNsb25lTm9kZSh0cnVlKSk7XG4gIH0pO1xuXG4gIHNjcm9sbENvbnRhaW5lci5hcHBlbmRDaGlsZChzY3JvbGxCYXJUaHVtYik7XG5cbiAgY2hhbmdlRWxlbWVudHNUaGVtZS5pbml0KCk7XG5cbiAgY29uc3Qgc2Nyb2xsRXZlbnQgPSAoKSA9PiB7XG4gICAgc2Nyb2xsQmFyVGh1bWIuc3R5bGUudG9wID0gZ2V0Q29tcHV0ZWRTdHlsZShzY3JvbGxCYXIpLnRvcDtcbiAgICBzY3JvbGxCYXJUaHVtYi5zdHlsZS5oZWlnaHQgPSBnZXRDb21wdXRlZFN0eWxlKHNjcm9sbEJhcikuaGVpZ2h0O1xuICB9O1xuXG4gIHNjcm9sbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjcm9sbEV2ZW50KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgc2Nyb2xsRXZlbnQpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgc2Nyb2xsRXZlbnQpO1xufSk7XG5cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSh3aW5kb3csIGRvY3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuU2ltcGxlU2Nyb2xsYmFyID0gZmFjdG9yeSh3aW5kb3csIGRvY3VtZW50KTtcbiAgfVxufSkodGhpcywgZnVuY3Rpb24odywgZCkge1xuICB2YXIgcmFmID1cbiAgICB3LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHcuc2V0SW1tZWRpYXRlIHx8XG4gICAgZnVuY3Rpb24oYykge1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoYywgMCk7XG4gICAgfTtcblxuICBmdW5jdGlvbiBpbml0RWwoZWwpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsIFwiZGF0YS1zaW1wbGUtc2Nyb2xsYmFyXCIsIHtcbiAgICAgIHZhbHVlOiBuZXcgU2ltcGxlU2Nyb2xsYmFyKGVsKSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5iaW5kRWwoZWwpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlbCwgXCJkYXRhLXNpbXBsZS1zY3JvbGxiYXJcIikpXG4gICAgICByZXR1cm47XG4gICAgZWxbXCJkYXRhLXNpbXBsZS1zY3JvbGxiYXJcIl0udW5CaW5kKCk7XG4gICAgLy9SZW1vdmUgdGhlIGVsZW1lbnRzIHByb3BlcnR5XG4gICAgZGVsZXRlIGVsW1wiZGF0YS1zaW1wbGUtc2Nyb2xsYmFyXCJdO1xuICB9XG5cbiAgLy8gTW91c2UgZHJhZyBoYW5kbGVyXG4gIGZ1bmN0aW9uIGRyYWdEZWFsZXIoZWwsIGNvbnRleHQpIHtcbiAgICB2YXIgbGFzdFBhZ2VZO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBsYXN0UGFnZVkgPSBlLnBhZ2VZO1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChcInNzLWdyYWJiZWRcIik7XG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIuc3MtY29udGVudFwiKS5jbGFzc0xpc3QuYWRkKFwic3MtZ3JhYmJlZFwiKTtcblxuICAgICAgZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGRyYWcpO1xuICAgICAgZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBzdG9wKTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZHJhZyhlKSB7XG4gICAgICB2YXIgZGVsdGEgPSBlLnBhZ2VZIC0gbGFzdFBhZ2VZO1xuICAgICAgbGFzdFBhZ2VZID0gZS5wYWdlWTtcblxuICAgICAgcmFmKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb250ZXh0LmVsLnNjcm9sbFRvcCArPSBkZWx0YSAvIGNvbnRleHQuc2Nyb2xsUmF0aW87XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcInNzLWdyYWJiZWRcIik7XG4gICAgICBkLnF1ZXJ5U2VsZWN0b3IoXCIuc3MtY29udGVudFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwic3MtZ3JhYmJlZFwiKTtcbiAgICAgIGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBkcmFnKTtcbiAgICAgIGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgc3RvcCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29uc3RydWN0b3JcbiAgZnVuY3Rpb24gc3MoZWwpIHtcbiAgICB0aGlzLnRhcmdldCA9IGVsO1xuICAgIHRoaXMuY29udGVudCA9IGVsLmZpcnN0RWxlbWVudENoaWxkLm5leHRFbGVtZW50U2libGluZztcblxuICAgIHRoaXMuZGlyZWN0aW9uID0gdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMudGFyZ2V0KS5kaXJlY3Rpb247XG5cbiAgICB0aGlzLmJhciA9ICc8ZGl2IGNsYXNzPVwic3Mtc2Nyb2xsXCI+JztcbiAgICAvL0NyZWF0ZSBhIHJlZmVyZW5jZSB0byB0aGUgZnVuY3Rpb24gYmluZGluZyB0byByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgIHRoaXMubUIgPSB0aGlzLm1vdmVCYXIuYmluZCh0aGlzKTtcblxuICAgIHRoaXMud3JhcHBlciA9IGQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLndyYXBwZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzcy13cmFwcGVyXCIpO1xuXG4gICAgdGhpcy5lbCA9IGQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic3MtY29udGVudFwiKTtcblxuICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKFwicnRsXCIpO1xuICAgIH1cblxuICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVsKTtcblxuICAgIHdoaWxlICh0aGlzLnRhcmdldC5maXJzdENoaWxkKSB7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMudGFyZ2V0LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICB0aGlzLnRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLndyYXBwZXIpO1xuXG4gICAgdGhpcy50YXJnZXQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHRoaXMuYmFyKTtcbiAgICB0aGlzLmJhciA9IHRoaXMudGFyZ2V0Lmxhc3RDaGlsZDtcblxuICAgIGRyYWdEZWFsZXIodGhpcy5iYXIsIHRoaXMpO1xuICAgIHRoaXMubW92ZUJhcigpO1xuXG4gICAgdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMubUIpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm1CKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMubUIpO1xuXG4gICAgdGhpcy50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNzLWNvbnRhaW5lclwiKTtcblxuICAgIHZhciBjc3MgPSB3LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgIGlmIChjc3NbXCJoZWlnaHRcIl0gPT09IFwiMHB4XCIgJiYgY3NzW1wibWF4LWhlaWdodFwiXSAhPT0gXCIwcHhcIikge1xuICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gY3NzW1wibWF4LWhlaWdodFwiXTtcbiAgICB9XG5cbiAgICB0aGlzLnVuQmluZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy9SZW1vdmUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5tQik7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5tQik7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMubUIpO1xuXG4gICAgICB0aGlzLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwic3MtY29udGFpbmVyXCIpO1xuXG4gICAgICAvL1Vud3JhcCB0aGUgaW5pdGlhbCBjb250ZW50IGFuZCByZW1vdmUgcmVtYWluaW5nIHdyYXBwZXJzXG4gICAgICB0aGlzLnRhcmdldC5pbnNlcnRCZWZvcmUodGhpcy5jb250ZW50LCB0aGlzLndyYXBwZXIpO1xuICAgICAgdGhpcy50YXJnZXQucmVtb3ZlQ2hpbGQodGhpcy53cmFwcGVyKTtcblxuICAgICAgLy9SZW1vdmUgdGhlIGJhciBpbmNsdWRpbmcgaXRzIGRyYWctZGVhbGVyIGV2ZW50IGxpc3RlbmVyXG4gICAgICB0aGlzLnRhcmdldC5yZW1vdmVDaGlsZCh0aGlzLmJhcik7XG4gICAgICB0aGlzLmJhciA9IG51bGw7IC8vbWFrZSB3YXkgZm9yIHRoZSBnYXJiYWdlIGNvbGxlY3RvclxuICAgIH07XG4gIH1cblxuICBzcy5wcm90b3R5cGUgPSB7XG4gICAgbW92ZUJhcjogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0gdGhpcy5lbC5zY3JvbGxIZWlnaHQsXG4gICAgICAgIG93bkhlaWdodCA9IHRoaXMuZWwuY2xpZW50SGVpZ2h0LFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuc2Nyb2xsUmF0aW8gPSBvd25IZWlnaHQgLyB0b3RhbEhlaWdodDtcblxuICAgICAgdmFyIGlzUnRsID0gX3RoaXMuZGlyZWN0aW9uID09PSBcInJ0bFwiO1xuICAgICAgdmFyIGxlZnQgPSBpc1J0bFxuICAgICAgICA/IF90aGlzLmJhci5jbGllbnRXaWR0aCArIDE4XG4gICAgICAgIDogX3RoaXMuYmFyLmNsaWVudFdpZHRoICogLTE7XG5cbiAgICAgIHJhZihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSGlkZSBzY3JvbGxiYXIgaWYgbm8gc2Nyb2xsaW5nIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmIChfdGhpcy5zY3JvbGxSYXRpbyA+PSAxKSB7XG4gICAgICAgICAgX3RoaXMuYmFyLmNsYXNzTGlzdC5hZGQoXCJzcy1oaWRkZW5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJzcy1oaWRkZW5cIik7XG4gICAgICAgICAgX3RoaXMuYmFyLnN0eWxlLmNzc1RleHQgPVxuICAgICAgICAgICAgXCJoZWlnaHQ6XCIgK1xuICAgICAgICAgICAgTWF0aC5tYXgoX3RoaXMuc2Nyb2xsUmF0aW8gKiAxMDAsIDEwKSArXG4gICAgICAgICAgICBcIiU7IHRvcDpcIiArXG4gICAgICAgICAgICAoX3RoaXMuZWwuc2Nyb2xsVG9wIC8gdG90YWxIZWlnaHQpICogMTAwICtcbiAgICAgICAgICAgIFwiJVwiO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gaW5pdEFsbCgpIHtcbiAgICB2YXIgbm9kZXMgPSBkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqW3NzLWNvbnRhaW5lcl1cIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpbml0RWwobm9kZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVuYmluZEFsbCgpIHtcbiAgICB2YXIgbm9kZXMgPSBkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3MtY29udGFpbmVyXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdW5iaW5kRWwobm9kZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgaW5pdEFsbCk7XG4gIHNzLmluaXRFbCA9IGluaXRFbDtcbiAgc3MuaW5pdEFsbCA9IGluaXRBbGw7XG4gIHNzLnVuYmluZEVsID0gdW5iaW5kRWw7XG4gIHNzLnVuYmluZEFsbCA9IHVuYmluZEFsbDtcblxuICB2YXIgU2ltcGxlU2Nyb2xsYmFyID0gc3M7XG4gIHJldHVybiBTaW1wbGVTY3JvbGxiYXI7XG59KTtcblxuaW1wb3J0IFN3aXBlciBmcm9tIFwiaHR0cHM6Ly91bnBrZy5jb20vc3dpcGVyL3N3aXBlci1idW5kbGUuZXNtLmJyb3dzZXIubWluLmpzXCI7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvbWUtcGFnZVwiKSAhPT0gbnVsbCkge1xuICAgIGxldCBtYWluU3dpcGVyID0gbmV3IFN3aXBlcihcIi5tYWluLXN3aXBlcl9fY29udGFpbmVyXCIsIHtcbiAgICAgIGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgc3BlZWQ6IDYwMCxcbiAgICAgIGtleWJvYXJkOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIG9ubHlJblZpZXdwb3J0OiB0cnVlXG4gICAgICB9LFxuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6IFwiLnN3aXBlci1idXR0b24tbmV4dFwiXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgdGltZWxpbmVTd2lwZXIgPSBuZXcgU3dpcGVyKFwiLnRpbWVsaW5lX19zd2lwZXJcIiwge1xuICAgICAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIixcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgICAgY2VudGVyZWRTbGlkZXNCb3VuZHM6IHRydWUsXG4gICAgICBzcGVlZDogNjAwLFxuICAgICAgc2xpZGVzUGVyVmlldzogMS42NSxcbiAgICAgIHNwYWNlQmV0d2Vlbjogd2luZG93LmlubmVyV2lkdGggKiAwLjE3MTg3NSxcbiAgICAgIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIHByZXZFbDogXCIudGltZWxpbmVfX2J1dHRvbi1wcmV2XCIsXG4gICAgICAgIG5leHRFbDogXCIudGltZWxpbmVfX2J1dHRvbi1uZXh0XCJcbiAgICAgIH0sXG4gICAgICBzY3JvbGxiYXI6IHtcbiAgICAgICAgZWw6IFwiLnRpbWVsaW5lX19zY3JvbGxiYXJcIixcbiAgICAgICAgaGlkZTogZmFsc2UsXG4gICAgICAgIGRyYWdTaXplOiAyMCxcbiAgICAgICAgZHJhZ0NsYXNzOiBcInRpbWVsaW5lX19zY3JvbGxiYXItZHJhZ1wiXG4gICAgICB9LFxuICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgNzAwOiB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICAxMTkwOiB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDUwLFxuICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbHQtaW52ZXN0LXBhZ2VcIikgIT09IG51bGwpIHtcbiAgICBjb25zdCBhbHRJbnZlc3RTd2lwZXIgPSBuZXcgU3dpcGVyKFxuICAgICAgXCIuYWx0LWludmVzdC1wYWdlIC5zd2lwZXItY29udGFpbmVyOm5vdCguZnVsbC1oZWlnaHQpXCIsXG4gICAgICB7XG4gICAgICAgIGVmZmVjdDogXCJmYWRlXCIsXG4gICAgICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgICAgICBjcm9zc0ZhZGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYXV0b0hlaWdodDogdHJ1ZSxcbiAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgIGVsOiBcIi50ZXh0LXN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICBuZXh0RWw6IFwiLnRleHQtc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXG4gICAgICAgICAgcHJldkVsOiBcIi50ZXh0LXN3aXBlci1idXR0b24tcHJldlwiXG4gICAgICAgIH0sXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgNzAwOiB7XG4gICAgICAgICAgICBmYWRlRWZmZWN0OiB7XG4gICAgICAgICAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdXRvSGVpZ2h0OiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgYWx0SW52ZXN0U3dpcGVyMiA9IG5ldyBTd2lwZXIoXG4gICAgICBcIi5hbHQtaW52ZXN0LXBhZ2UgLnN3aXBlci1jb250YWluZXIuZnVsbC1oZWlnaHRcIixcbiAgICAgIHtcbiAgICAgICAgZWZmZWN0OiBcImZhZGVcIixcbiAgICAgICAgZmFkZUVmZmVjdDoge1xuICAgICAgICAgIGNyb3NzRmFkZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6IFwiLmZ1bGwtaGVpZ2h0IC50ZXh0LXN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICBuZXh0RWw6IFwiLmZ1bGwtaGVpZ2h0IC50ZXh0LXN3aXBlci1idXR0b24tbmV4dFwiLFxuICAgICAgICAgIHByZXZFbDogXCIuZnVsbC1oZWlnaHQgLnRleHQtc3dpcGVyLWJ1dHRvbi1wcmV2XCJcbiAgICAgICAgfSxcbiAgICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgICA3MDA6IHtcbiAgICAgICAgICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgICAgICAgICAgY3Jvc3NGYWRlOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWludGVuYW5jZS1wYWdlXCIpICE9PSBudWxsKSB7XG4gICAgY29uc3QgbWFpbnRlbmFuY2VUZXh0VGF4ZXNTd2lwZXIgPSBuZXcgU3dpcGVyKFwiI3RheGVzIC50ZXh0LXN3aXBlclwiLCB7XG4gICAgICBlZmZlY3Q6IFwiZmFkZVwiLFxuICAgICAgZmFkZUVmZmVjdDoge1xuICAgICAgICBjcm9zc0ZhZGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGVsOiBcIiN0YXhlcyAudGV4dC1zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogXCIjdGF4ZXMgLnRleHQtc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXG4gICAgICAgIHByZXZFbDogXCIjdGF4ZXMgLnRleHQtc3dpcGVyLWJ1dHRvbi1wcmV2XCJcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IG1haW50ZW5hbmNlVGV4dExlZ2FsU3VwcG9ydFN3aXBlciA9IG5ldyBTd2lwZXIoXG4gICAgICBcIiNsZWdhbC1zdXBwb3J0IC50ZXh0LXN3aXBlclwiLFxuICAgICAge1xuICAgICAgICBlZmZlY3Q6IFwiZmFkZVwiLFxuICAgICAgICBmYWRlRWZmZWN0OiB7XG4gICAgICAgICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICBlbDogXCIjbGVnYWwtc3VwcG9ydCAudGV4dC1zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgbmV4dEVsOiBcIiNsZWdhbC1zdXBwb3J0IC50ZXh0LXN3aXBlci1idXR0b24tbmV4dFwiLFxuICAgICAgICAgIHByZXZFbDogXCIjbGVnYWwtc3VwcG9ydCAudGV4dC1zd2lwZXItYnV0dG9uLXByZXZcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Y2Nlc3Npb24tcGFnZVwiKSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHN1Y2Nlc3Npb25Td2lwZXIgPSBuZXcgU3dpcGVyKFxuICAgICAgXCIuc3VjY2Vzc2lvbi1wYWdlIC5zd2lwZXItY29udGFpbmVyOm5vdCguZnVsbC1oZWlnaHQpXCIsXG4gICAgICB7XG4gICAgICAgIGVmZmVjdDogXCJmYWRlXCIsXG4gICAgICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgICAgICBjcm9zc0ZhZGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYXV0b0hlaWdodDogdHJ1ZSxcbiAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgIGVsOiBcIi50ZXh0LXN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICBuZXh0RWw6IFwiLnRleHQtc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXG4gICAgICAgICAgcHJldkVsOiBcIi50ZXh0LXN3aXBlci1idXR0b24tcHJldlwiXG4gICAgICAgIH0sXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgNzAwOiB7XG4gICAgICAgICAgICBmYWRlRWZmZWN0OiB7XG4gICAgICAgICAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdXRvSGVpZ2h0OiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgY29uc3Qgc3VjY2Vzc2lvblN3aXBlcjIgPSBuZXcgU3dpcGVyKFxuICAgICAgXCIuc3VjY2Vzc2lvbi1wYWdlIC5zd2lwZXItY29udGFpbmVyLmZ1bGwtaGVpZ2h0XCIsXG4gICAgICB7XG4gICAgICAgIGVmZmVjdDogXCJmYWRlXCIsXG4gICAgICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgICAgICBjcm9zc0ZhZGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgIGVsOiBcIi5mdWxsLWhlaWdodCAudGV4dC1zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgbmV4dEVsOiBcIi5mdWxsLWhlaWdodCAudGV4dC1zd2lwZXItYnV0dG9uLW5leHRcIixcbiAgICAgICAgICBwcmV2RWw6IFwiLmZ1bGwtaGVpZ2h0IC50ZXh0LXN3aXBlci1idXR0b24tcHJldlwiXG4gICAgICAgIH0sXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgNzAwOiB7XG4gICAgICAgICAgICBmYWRlRWZmZWN0OiB7XG4gICAgICAgICAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVhbS1wYWdlXCIpICE9PSBudWxsKSB7XG4gICAgbGV0IHBhcnRuZXJzU3dpcGVyID0gbmV3IFN3aXBlcihcIiNwYXJ0bmVycyAuc3dpcGVyLWNvbnRhaW5lclwiLCB7XG4gICAgICBkaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBlbDogXCIudGV4dC1zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogXCIudGV4dC1zd2lwZXItYnV0dG9uLW5leHRcIixcbiAgICAgICAgcHJldkVsOiBcIi50ZXh0LXN3aXBlci1idXR0b24tcHJldlwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlYW0tcGFnZVwiKSA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gIGNvbnN0IHRlYW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXRlYW1cIik7XG4gIGNvbnN0IGFycm93ID0gdGVhbS5xdWVyeVNlbGVjdG9yKFwiLmFycm93XCIpO1xuXG4gIGNvbnN0IGNoZWNrU2l6ZXMgPSAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPiA2OTkpIHtcbiAgICAgIGRlc2t0b3BUZWFtVmlld2VyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vYmlsZVRlYW1WaWV3ZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVza3RvcFRlYW1WaWV3ZXIoKSB7XG4gICAgdGVhbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGUgPT4ge1xuICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KFwiLnRlYW1fX21lbWJlclwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIudGVhbV9fbWVtYmVyXCIpO1xuICAgICAgbGV0IGVsSWQgPSBlbC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgIGxldCB0YXJnZXRUZXh0ID0gdGVhbS5xdWVyeVNlbGVjdG9yKGBbYXJpYS1sYWJlbGxlZGJ5PSR7ZWwuaWR9XWApO1xuXG4gICAgICBbLi4udGVhbS5xdWVyeVNlbGVjdG9yQWxsKGBbYXJpYS1sYWJlbGxlZGJ5XWApXS5tYXAoZWwgPT4ge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICAgIH0pO1xuXG4gICAgICB0YXJnZXRUZXh0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuXG4gICAgICBsZXQgdG9wUG9zaXRpb24gPVxuICAgICAgICBlbC5vZmZzZXRUb3AgK1xuICAgICAgICBlbC5xdWVyeVNlbGVjdG9yKFwiLnRlYW1fX21lbWJlci1uYW1lXCIpLm9mZnNldEhlaWdodCAvIDIgK1xuICAgICAgICBcInB4XCI7XG5cbiAgICAgIGFycm93LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGB0b3A6ICR7dG9wUG9zaXRpb259YCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBtb2JpbGVUZWFtVmlld2VyKCkge1xuICAgIGxldCB0ZWFtQWNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRlYW1fX21lbWJlclwiKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVhbUFjYy5sZW5ndGg7IGkrKykge1xuICAgICAgdGVhbUFjY1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgbGV0IHBhbmVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGBbYXJpYS1sYWJlbGxlZGJ5PSR7dGhpcy5nZXRBdHRyaWJ1dGUoXCJpZFwiKX1dYFxuICAgICAgICApO1xuICAgICAgICBwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKFwidmlzaWJsZVwiKTtcbiAgICAgICAgaWYgKHBhbmVsLnN0eWxlLm1heEhlaWdodCkge1xuICAgICAgICAgIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFuZWwuc3R5bGUubWF4SGVpZ2h0ID0gcGFuZWwuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjaGVja1NpemVzKCk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcbiAgICBjaGVja1NpemVzKCk7XG4gIH0pO1xufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud3dkLXNsaWRlXCIpID09PSBudWxsKSByZXR1cm47XG5cbiAgbGV0IGxpbmVzID0gW10sXG4gICAgYXJyb3dzID0gW107XG4gIGxldCBzbGlkZUxpc3RBcnJheSA9IFtcbiAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnd3ZC1zbGlkZSAud3dkLXNsaWRlX19saXN0XCIpXG4gIF07XG5cbiAgY29uc3Qgc2V0TGluZUFycm93UG9zaXRpb24gPSAoZWxlbSwgaSkgPT4ge1xuICAgIGxldCB0YWJUZXh0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFthcmlhLWxhYmVsbGVkYnk9JHtlbGVtLmlkfV1gKTtcbiAgICBsZXQgdGFiVGV4dHNBcnJheSA9IFtcbiAgICAgIC4uLmVsZW0uY2xvc2VzdChcIi53d2Qtc2xpZGVcIikucXVlcnlTZWxlY3RvckFsbChcIi53d2Qtc2xpZGVfX3RleHRcIilcbiAgICBdO1xuXG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCB0YWJUZXh0c0FycmF5Lmxlbmd0aDsgaysrKSB7XG4gICAgICB0YWJUZXh0c0FycmF5W2tdLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xuICAgIH1cblxuICAgIGlmICghZWxlbS5hcmlhU2VsZWN0ZWQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIud3dkLXNsaWRlX19saXN0LWl0ZW1cIikuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgIH0pO1xuXG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJ0cnVlXCIpO1xuICAgIH1cblxuICAgIHRhYlRleHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICAgIGxldCBwYWRkaW5nTGluayA9IGdldENvbXB1dGVkU3R5bGUoZWxlbSkucGFkZGluZ1RvcC5zbGljZSgwLCAtMik7XG4gICAgbGV0IHRvcFBvc2l0aW9uID1cbiAgICAgIGVsZW0ub2Zmc2V0VG9wICtcbiAgICAgIHBhZGRpbmdMaW5rICogMSArXG4gICAgICAoZWxlbS5vZmZzZXRIZWlnaHQgLSBwYWRkaW5nTGluayAqIDIpIC8gMiArXG4gICAgICBcInB4XCI7XG5cbiAgICBsaW5lc1tgbGluZS0ke2l9YF0uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYG9wYWNpdHk6IDE7IHRvcDogJHt0b3BQb3NpdGlvbn1gKTtcbiAgICBhcnJvd3NbYGFycm93LSR7aX1gXS5zZXRBdHRyaWJ1dGUoXG4gICAgICBcInN0eWxlXCIsXG4gICAgICBgb3BhY2l0eTogMTsgdG9wOiAke3RvcFBvc2l0aW9ufWBcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHRhYk1vdXNlT3ZlckJlaGF2aW9yID0gKGUsIGkpID0+IHtcbiAgICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInd3ZC1zbGlkZV9fbGlzdC1pdGVtXCIpKSByZXR1cm47XG5cbiAgICBsZXQgZWxlbSA9IGUudGFyZ2V0O1xuICAgIHNldExpbmVBcnJvd1Bvc2l0aW9uKGVsZW0sIGkpO1xuICB9O1xuXG4gIHNsaWRlTGlzdEFycmF5Lm1hcCgoc2xpZGVMaXN0LCBpKSA9PiB7XG4gICAgbGluZXMucHVzaChgbGluZS0ke2l9YCk7XG4gICAgYXJyb3dzLnB1c2goYGFycm93LSR7aX1gKTtcbiAgICBsaW5lc1tgbGluZS0ke2l9YF0gPSBzbGlkZUxpc3QucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIud3dkLXNsaWRlX19saXN0LWxpbmVcIlxuICAgICk7XG4gICAgYXJyb3dzW2BhcnJvdy0ke2l9YF0gPSBzbGlkZUxpc3QucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIud3dkLXNsaWRlX19saXN0LWFycm93XCJcbiAgICApO1xuXG4gICAgc2V0TGluZUFycm93UG9zaXRpb24oXG4gICAgICBbLi4uc2xpZGVMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIud3dkLXNsaWRlX19saXN0LWl0ZW1cIildWzBdLFxuICAgICAgaVxuICAgICk7XG5cbiAgICBzbGlkZUxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBlID0+IHRhYk1vdXNlT3ZlckJlaGF2aW9yKGUsIGkpKTtcbiAgfSk7XG59KTtcbiJdfQ==
